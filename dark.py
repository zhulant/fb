import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24KIyBjb2Rpbmc9dXRmLTgKIyAoQkhWKSBSZWREZW1vbnMKIyBTb3VyY2UgOiBQeXRob24yIEdlcmFrIgojIERBUkstRkIgdmVyc2lvbjEuNwoKI0ltcG9ydCBtb2R1bGUKaW1wb3J0IG9zLHN5cyx0aW1lLGRhdGV0aW1lLHJhbmRvbSxoYXNobGliLHJlLHRocmVhZGluZyxqc29uLGdldHBhc3MsdXJsbGliLGNvb2tpZWxpYgpmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sCnRyeToKICAgIGltcG9ydCBtZWNoYW5pemUKZXhjZXB0IEltcG9ydEVycm9yOgoJb3Muc3lzdGVtKCJwaXAyIGluc3RhbGwgbWVjaGFuaXplIikKdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCmV4Y2VwdCBJbXBvcnRFcnJvcjoKCW9zLnN5c3RlbSgicGlwMiBpbnN0YWxsIHJlcXVlc3RzIikKZnJvbSByZXF1ZXN0cy5leGNlcHRpb25zIGltcG9ydCBDb25uZWN0aW9uRXJyb3IKZnJvbSBtZWNoYW5pemUgaW1wb3J0IEJyb3dzZXIKCiMtUGVuZ2F0dXJhbi0jCiMjIyMjIyMjCnJlbG9hZChzeXMpCnN5cy5zZXRkZWZhdWx0ZW5jb2RpbmcoJ3V0ZjgnKQpiciA9IG1lY2hhbml6ZS5Ccm93c2VyKCkKYnIuc2V0X2hhbmRsZV9yb2JvdHMoRmFsc2UpCmJyLnNldF9oYW5kbGVfcmVmcmVzaChtZWNoYW5pemUuX2h0dHAuSFRUUFJlZnJlc2hQcm9jZXNzb3IoKSxtYXhfdGltZT0xKQpici5hZGRoZWFkZXJzID0gWygnVXNlci1BZ2VudCcsJ09wZXJhLzkuODAgKEFuZHJvaWQ7IE9wZXJhIE1pbmkvMzIuMC4yMjU0Lzg1LiBVOyBpZCkgUHJlc3RvLzIuMTIuNDIzIFZlcnNpb24vMTIuMTYnKV0KCiMtS2VsdWFyLSMKZGVmIGtlbHVhcigpOgoJcHJpbnQgIlwwMzNbMTs5MW1bIV0gRXhpdCIKCW9zLnN5cy5leGl0KCkKCiMtV2FybmEtIwpkZWYgYWNhayh4KToKICAgIHcgPSAnbWhrYnBjUCcKICAgIGQgPSAnJwogICAgZm9yIGkgaW4geDoKICAgICAgICBkICs9ICchJyt3W3JhbmRvbS5yYW5kaW50KDAsbGVuKHcpLTEpXStpCiAgICByZXR1cm4gY2V0YWsoZCkKCmRlZiBjZXRhayh4KToKICAgIHcgPSAnbWhrYnBjUCcKICAgIGZvciBpIGluIHc6CiAgICAgICAgaiA9IHcuaW5kZXgoaSkKICAgICAgICB4PSB4LnJlcGxhY2UoJyElcyclaSwnXDAzM1slczsxbSclc3RyKDMxK2opKQogICAgeCArPSAnXDAzM1swbScKICAgIHggPSB4LnJlcGxhY2UoJyEwJywnXDAzM1swbScpCiAgICBzeXMuc3Rkb3V0LndyaXRlKHgrJ1xuJykKCiMtQW5pbWFzaS0jCmRlZiBqYWxhbih6KToKCWZvciBlIGluIHogKyAnXG4nOgoJCXN5cy5zdGRvdXQud3JpdGUoZSkKCQlzeXMuc3Rkb3V0LmZsdXNoKCkKCQl0aW1lLnNsZWVwKDAwMDAwLjEpCgojIyMjIyBMT0dPICMjIyMjCmxvZ28gPSAiIiJcMDMzWzE7OTVt4paI4paI4paI4paI4paI4paI4paI4paI4paIClwwMzNbMTs5NW3ilojiloTilojilojilojilojilojiloTiloggICAgICBcMDMzWzE7OTZt4peP4pas4pas4pas4pas4pas4pas4pas4pas4pas4LmR26nbqeC5keKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKXjwpcMDMzWzE7OTVt4paIXDAzM1sxOzkzbeKWvOKWvOKWvOKWvOKWvCBcMDMzWzE7OTFtLSBfIC0tXy0tXDAzM1sxOzkybeKVlOKVpuKVl+KUjOKUgOKUkOKUrOKUgOKUkOKUrOKUjOKUgCAgIOKVlOKVkOKVl+KVlOKVlyAKXDAzM1sxOzk1beKWiCBcMDMzWzE7OTdtIFwwMzNbMTs5MW1fLV8tLSAtXyAtLV9fXDAzM1sxOzkybSDilZHilZHilJzilIDilKTilJzilKzilJjilJzilLTilJDilIDilIDilIDilaDilaMg4pWg4pWp4pWXClwwMzNbMTs5NW3ilohcMDMzWzE7OTNt4pay4pay4pay4pay4payXDAzM1sxOzkxbS0tICAtIF8gLS1cMDMzWzE7OTJt4pWQ4pWp4pWd4pS0IOKUtOKUtOKUlOKUgOKUtCDilLQgICDilZogIOKVmuKVkOKVnSBcMDMzWzE7OTNtVjEuOApcMDMzWzE7OTVt4paI4paI4paI4paI4paI4paI4paI4paI4paIICAgICAgXDAzM1sxOzk2bcKrLS0tLS0tLS0tLeKcpy0tLS0tLS0tLS3CuwpcMDMzWzE7OTVtIOKWiOKWiCDilojilogKXDAzM1sxOzk3beKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlwpcMDMzWzE7OTdt4pWRXDAzM1sxOzkzbSogXDAzM1sxOzk3bUF1dGhvciAgICAgXDAzM1sxOzkxbTogXDAzM1sxOzk2bVpodUwgXDAzM1sxOzk3bSAgICAgICAgICAgICAgICAgICAgICAgIOKVkQpcMDMzWzE7OTdt4pWRXDAzM1sxOzkzbSogXDAzM1sxOzk3bVN1cHBvcnQgICAgXDAzM1sxOzkxbTogXDAzM1sxOzk0bUR3TXNyaCB8IFlhZ2FtaUtvIFwwMzNbMTs5N20gICAgICAgICAgIOKVkQpcMDMzWzE7OTdt4pWRXDAzM1sxOzkzbSogXDAzM1sxOzk3bUluc3RhZ3JhbSAgXDAzM1sxOzkxbTogXDAzM1sxOzkybVwwMzNbNG1pbnN0YWdyYW0uY29tL196aGxudF9cMDMzWzBtIFwwMzNbMTs5N20gICAgICAg4pWRClwwMzNbMTs5N23ilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ0iIiIKCiMgdGl0aWsgIwpkZWYgdGlrKCk6Cgl0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJ10KCWZvciBvIGluIHRpdGlrOgoJCXByaW50KCJcclwwMzNbMTs5MW1b4pePXSBcMDMzWzE7OTJtTG9hZGluZyBcMDMzWzE7OTdtIitvKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMSkKCmJhY2sgPSAwCnRocmVhZHMgPSBbXQpiZXJoYXNpbCA9IFtdCmNla3BvaW50ID0gW10Kb2tzID0gW10KZ2FnYWwgPSBbXQppZHRlbWFuID0gW10KaWRmcm9tdGVtYW4gPSBbXQppZG1lbSA9IFtdCmVtbWVtID0gW10Kbm9tZW0gPSBbXQppZCA9IFtdCmVtID0gW10KZW1mcm9tdGVtYW4gPSBbXQpocCA9IFtdCmhwZnJvbXRlbWFuID0gW10KcmVha3NpID0gW10KcmVha3NpZ3J1cCA9IFtdCmtvbWVuID0gW10Ka29tZW5ncnVwID0gW10KbGlzdGdydXAgPSBbXQp2dWxub3QgPSAiXDAzM1szMW1Ob3QgVnVsbiIKdnVsbiA9ICJcMDMzWzMybVZ1bG4iCgojIyMjIyBMSUNFTlNFICMjIyMjCiM9PT09PT09PT09PT09PT09PSMKZGVmIGxpc2Vuc2koKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJbWFzdWsoKQoKIyMjIyMgUGlsaWggTG9naW4gIyMjIyMKZGVmIG1hc3VrKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIExvZ2luIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gTG9naW4gdXNpbmcgdG9rZW4iCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBDbGVhciBUb2tlbiBhbmQgTG9naW4iCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBBY2NvdW50IENoZWNrZXIgKCBObyBMb2dpbiApIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gRXhpdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRIgoJbXN1ayA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgbXN1ayA9PSIiOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJa2VsdWFyKCkKCWVsaWYgbXN1ayA9PSIxIjoKCQlsb2dpbigpCgllbGlmIG1zdWsgPT0iMiI6CgkJdG9rZW56KCkKCWVsaWYgbXN1ayA9PSIzIjoKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCWxvZ2luKCkKCWVsaWYgbXN1ayA9PSAnNCc6CgkJY2VrKCkKCWVsaWYgbXN1ayA9PSIwIjoKCQlrZWx1YXIoKQoJZWxzZToKCQlwcmludCJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCWtlbHVhcigpCgojIyMjIyBMT0dJTiAjIyMjIwojPT09PT09PT09PT09PT09PSMKZGVmIGxvZ2luKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldCA9IG9wZW4oJ2xvZ2luLnR4dCcsJ3InKQoJCW1lbnUoKSAKCWV4Y2VwdCAoS2V5RXJyb3IsSU9FcnJvcik6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCXByaW50KCdcMDMzWzE7OTFtW+KYhl0gXDAzM1sxOzkybUxPR0lOIEFLVU4gRkFDRUJPT0sgXDAzM1sxOzkxbVvimIZdJykKCQlpZCA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7MzZtSURcMDMzWzE7OTdtfFwwMzNbMTs5Nm1FbWFpbFwwMzNbMTs5N20gXDAzM1sxOzkxbTpcMDMzWzE7OTJtICcpCgkJcHdkID0gZ2V0cGFzcy5nZXRwYXNzKCdcMDMzWzE7OTFtWytdIFwwMzNbMTszNm1QYXNzd29yZCBcMDMzWzE7OTFtOlwwMzNbMTs5Mm0gJykKCQl0aWsoKQoJCXRyeToKCQkJYnIub3BlbignaHR0cHM6Ly9tLmZhY2Vib29rLmNvbScpCgkJZXhjZXB0IG1lY2hhbml6ZS5VUkxFcnJvcjoKCQkJcHJpbnQiXG5cMDMzWzE7OTFtWyFdIE5vIGNvbm5lY3Rpb24iCgkJCWtlbHVhcigpCgkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUKCQlici5zZWxlY3RfZm9ybShucj0wKQoJCWJyLmZvcm1bJ2VtYWlsJ10gPSBpZAoJCWJyLmZvcm1bJ3Bhc3MnXSA9IHB3ZAoJCWJyLnN1Ym1pdCgpCgkJdXJsID0gYnIuZ2V0dXJsKCkKCQlpZiAnc2F2ZS1kZXZpY2UnIGluIHVybDoKCQkJdHJ5OgoJCQkJc2lnPSAnYXBpX2tleT04ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZGNyZWRlbnRpYWxzX3R5cGU9cGFzc3dvcmRlbWFpbD0nK2lkKydmb3JtYXQ9SlNPTmdlbmVyYXRlX21hY2hpbmVfaWQ9MWdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xbG9jYWxlPWVuX1VTbWV0aG9kPWF1dGgubG9naW5wYXNzd29yZD0nK3B3ZCsncmV0dXJuX3NzbF9yZXNvdXJjZXM9MHY9MS4wNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInCgkJCQlkYXRhID0geyJhcGlfa2V5IjoiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQiLCJjcmVkZW50aWFsc190eXBlIjoicGFzc3dvcmQiLCJlbWFpbCI6aWQsImZvcm1hdCI6IkpTT04iLCAiZ2VuZXJhdGVfbWFjaGluZV9pZCI6IjEiLCJnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMiOiIxIiwibG9jYWxlIjoiZW5fVVMiLCJtZXRob2QiOiJhdXRoLmxvZ2luIiwicGFzc3dvcmQiOnB3ZCwicmV0dXJuX3NzbF9yZXNvdXJjZXMiOiIwIiwidiI6IjEuMCJ9CgkJCQl4PWhhc2hsaWIubmV3KCJtZDUiKQoJCQkJeC51cGRhdGUoc2lnKQoJCQkJYT14LmhleGRpZ2VzdCgpCgkJCQlkYXRhLnVwZGF0ZSh7J3NpZyc6YX0pCgkJCQl1cmwgPSAiaHR0cHM6Ly9hcGkuZmFjZWJvb2suY29tL3Jlc3RzZXJ2ZXIucGhwIgoJCQkJcj1yZXF1ZXN0cy5nZXQodXJsLHBhcmFtcz1kYXRhKQoJCQkJej1qc29uLmxvYWRzKHIudGV4dCkKCQkJCXplZGQgPSBvcGVuKCJsb2dpbi50eHQiLCAndycpCgkJCQl6ZWRkLndyaXRlKHpbJ2FjY2Vzc190b2tlbiddKQoJCQkJemVkZC5jbG9zZSgpCgkJCQlwcmludCAnXG5cMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTG9naW4gc3VjY2Vzc2Z1bGx5JwoJCQkJcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9tZXRob2Q9cG9zdCZ1aWRzPWd3aW11c2EzJmFjY2Vzc190b2tlbj0nK3pbJ2FjY2Vzc190b2tlbiddKQoJCQkJbWVudSgpCgkJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJCXByaW50IlxuXDAzM1sxOzkxbVshXSBObyBjb25uZWN0aW9uIgoJCQkJa2VsdWFyKCkKCQlpZiAnY2hlY2twb2ludCcgaW4gdXJsOgoJCQlwcmludCgiXG5cMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiKQoJCQlwcmludCgiXG5cMDMzWzE7OTJtWyNdIEhhcmFwIExvZ2luIFVsYW5nICEiKQoJCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCQl0aW1lLnNsZWVwKDEpCgkJCWtlbHVhcigpCgkJZWxzZToKCQkJcHJpbnQoIlxuXDAzM1sxOzkxbVshXSBMb2dpbiBGYWlsZWQiKQoJCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCQl0aW1lLnNsZWVwKDEpCgkJCWxvZ2luKCkKCiMjIyMjIENIRUNLRVIgIyMjIyMKZGVmIGNlaygpOgoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtQ3JlYXRlIGluIGZpbGVcMDMzWzE7OTFtIDogXDAzM1sxOzk3bXVzZXJuYW1lfHBhc3N3b3JkIgoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglsaXZlID0gW10KCWNlayA9IFtdCglkaWUgPSBbXQoJdHJ5OgoJCWZpbGUgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgcGF0aCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCQlsaXN0ID0gb3BlbihmaWxlLCdyJykucmVhZGxpbmVzKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50ICgiXDAzM1sxOzkxbVshXSBGaWxlIG5vdCBmb3VuZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCXBlbWlzYWggPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNlcGFyYXRvciBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgbWVraSBpbiBsaXN0OgoJCXVzZXJuYW1lLCBwYXNzd29yZCA9IChtZWtpLnN0cmlwKCkpLnNwbGl0KHN0cihwZW1pc2FoKSkKCQl1cmwgPSAiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXJuYW1lKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzd29yZCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIKCQlkYXRhID0gcmVxdWVzdHMuZ2V0KHVybCkKCQltcHNoID0ganNvbi5sb2FkcyhkYXRhLnRleHQpCgkJaWYgJ2FjY2Vzc190b2tlbicgaW4gbXBzaDoKCQkJbGl2ZS5hcHBlbmQocGFzc3dvcmQpCgkJCXByaW50IlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1PS+Kck1wwMzNbMTs5N20gXSBcMDMzWzE7OTdtIit1c2VybmFtZSsifCIrcGFzc3dvcmQKCQllbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWyJlcnJvcl9tc2ciXToKCQkJY2VrLmFwcGVuZChwYXNzd29yZCkKCQkJcHJpbnQiXDAzM1sxOzk3bVsgXDAzM1sxOzkzbUNQ4pyaXDAzM1sxOzk3bSBdIFwwMzNbMTs5N20iK3VzZXJuYW1lKyJ8IitwYXNzd29yZAoJCWVsc2U6CgkJCWRpZS5hcHBlbmQocGFzc3dvcmQpCgkJCXByaW50IlwwMzNbMTs5N21bIFwwMzNbMTs5MW1EaWVcMDMzWzE7OTdtIF0gXDAzM1sxOzk3bSIrdXNlcm5hbWUrInwiK3Bhc3N3b3JkCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsXDAzM1sxOzkxbSA6IFwwMzNbMTs5N21PSz1cMDMzWzE7OTJtIitzdHIobGVuKGxpdmUpKSsiIFwwMzNbMTs5N21DUD1cMDMzWzE7OTNtIitzdHIobGVuKGNlaykpKyIgXDAzM1sxOzk3bURpZT1cMDMzWzE7OTFtIitzdHIobGVuKGRpZSkpCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJbWFzdWsoKQoJCiMjIyMjIFRPS0VOICMjIyMjCmRlZiB0b2tlbnooKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJdG9rZXQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybVRva2VuXDAzM1sxOzkxbSA6IFwwMzNbMTs5N20iKQoJdHJ5OgoJCW90dyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMob3R3LnRleHQpCgkJbmFtYSA9IGFbJ25hbWUnXQoJCXplZGQgPSBvcGVuKCJsb2dpbi50eHQiLCAndycpCgkJemVkZC53cml0ZSh0b2tldCkKCQl6ZWRkLmNsb3NlKCkKCQltZW51KCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyIKCQllID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1XYW50IHRvIHBpY2sgdXAgdG9rZW4/XDAzM1sxOzk3bVt5L25dOiAiKQoJCWlmIGUgPT0iIjoKCQkJa2VsdWFyKCkKCQllbGlmIGUgPT0ieSI6CgkJCWxvZ2luKCkKCQllbHNlOgoJCQlrZWx1YXIoKQoKIyMjIyMgTUVOVSAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZGVmIG1lbnUoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWEgPSBqc29uLmxvYWRzKG90dy50ZXh0KQoJCW5hbWEgPSBhWyduYW1lJ10KCQlpZCA9IGFbJ2lkJ10KCWV4Y2VwdCBLZXlFcnJvcjoKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoJb3Muc3lzdGVtKCJyZXNldCIpCglwcmludCBsb2dvCglwcmludCAi4pWRXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV1cMDMzWzE7OTdtIE5hbWUgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrbmFtYSsiXDAzM1sxOzk3bSIKCXByaW50ICLilZFcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXVwwMzNbMTs5N20gSUQgICBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitpZAoJcHJpbnQgIlwwMzNbMTs5N23ilZoiKzQ1KiLilZAiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBVc2VyIGluZm9ybWF0aW9uIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gR2V0IElkL2VtYWlsL2hwIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLlwwMzNbMTs5N20gSGFjayBmYWNlYm9vayBhY2NvdW50ICAgICAgICAgICAgICAgIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gQm90ICAgICAgICIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNS5cMDMzWzE7OTdtIE90aGVycyAgICAgICAgICAgIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm02LlwwMzNbMTs5N20gU2hvdyB0b2tlbiAgICAgICAgICAgIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gRGVsZXRlIHRyYXNoICAgICAgICAgICIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOC5cMDMzWzE7OTdtIExvZ091dCAgICAgICAgICAgICIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOS5cMDMzWzE7OTdtIENoYW5nZSBBY2NvdW50IEZCICIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEV4aXQgdGhlIHByb2dyYW1zICAgICAgICAgICIKCXByaW50ICLilZEiCglwaWxpaCgpCiMtCmRlZiBwaWxpaCgpOgoJemVkZCA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgemVkZCA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXBpbGloKCkKCWVsaWYgemVkZCA9PSIxIjoKCQlpbmZvcm1hc2koKQoJZWxpZiB6ZWRkID09IjIiOgoJCWR1bXAoKQoJZWxpZiB6ZWRkID09IjMiOgoJCW1lbnVfaGFjaygpCgllbGlmIHplZGQgPT0iNCI6CgkJbWVudV9ib3QoKQoJZWxpZiB6ZWRkID09IjUiOgoJCWxhaW4oKQoJZWxpZiB6ZWRkID09IjYiOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCgkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVlvdXIgdG9rZW5cMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIrdG9rZXQKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnUoKQoJZWxpZiB6ZWRkID09IjciOgoJCW9zLnJlbW92ZSgnb3V0JykKCWVsaWYgemVkZCA9PSI4IjoKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCWtlbHVhcigpCgllbGlmIHplZGQgPT0iOSI6CgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQltYXN1aygpCgllbGlmIHplZGQgPT0iMCI6CgkJa2VsdWFyKCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcGlsaWgoKQoJCiMjIyMjIElORk8gIyMjIyMKZGVmIGluZm9ybWFzaSgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglhaWQgPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUVudGVyIElEXDAzM1sxOzk3bS9cMDMzWzE7OTJtTmFtZVwwMzNbMTs5MW0gOiBcMDMzWzE7OTdtJykKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVdhaXQgYSBtaW51dGUgXDAzM1sxOzk3bS4uLicpCglyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJY29rID0ganNvbi5sb2FkcyhyLnRleHQpCglmb3IgaSBpbiBjb2tbJ2RhdGEnXToKCQlpZiBhaWQgaW4gaVsnbmFtZSddIG9yIGFpZCBpbiBpWydpZCddOgoJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lbJ2lkJ10rIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgICAgICAgOiAnK3pbJ25hbWUnXQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTFtWz9dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgICAgICA6IFwwMzNbMTs5MW1Ob3QgZm91bmQnCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybUlEXDAzM1sxOzk3bSAgICAgICAgICAgIDogJyt6WydpZCddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybUlEXDAzM1sxOzk3bSAgICAgICAgICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtRW1haWxcMDMzWzE7OTdtICAgICAgICAgOiAnK3pbJ2VtYWlsJ10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtRW1haWxcMDMzWzE7OTdtICAgICAgICAgOiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1UZWxlcGhvbmVcMDMzWzE7OTdtICAgICA6ICcrelsnbW9iaWxlX3Bob25lJ10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtVGVsZXBob25lXDAzM1sxOzk3bSAgICAgOiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Mb2NhdGlvblwwMzNbMTs5N20gICAgICA6ICcrelsnbG9jYXRpb24nXVsnbmFtZSddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5MW1bP10gXDAzM1sxOzkybUxvY2F0aW9uXDAzM1sxOzk3bSAgICAgIDogXDAzM1sxOzkxbU5vdCBmb3VuZCcKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtRGF0ZSBvZiBiaXJ0aFwwMzNbMTs5N20gOiAnK3pbJ2JpcnRoZGF5J10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtRGF0ZSBvZiBiaXJ0aFwwMzNbMTs5N20gOiBcMDMzWzE7OTFtTm90IGZvdW5kJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1TY2hvb2xcMDMzWzE7OTdtICAgICAgICA6ICcKCQkJCWZvciBxIGluIHpbJ2VkdWNhdGlvbiddOgoJCQkJCXRyeToKCQkJCQkJcHJpbnQgJ1wwMzNbMTs5MW0gICAgICAgICAgICAgICAgICAgfiBcMDMzWzE7OTdtJytxWydzY2hvb2wnXVsnbmFtZSddCgkJCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbSAgICAgICAgICAgICAgICAgICB+IFwwMzNbMTs5MW1Ob3QgZm91bmQnCgkJCWV4Y2VwdCBLZXlFcnJvcjogcGFzcwoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQltZW51KCkKCQllbHNlOgoJCQlwYXNzCgllbHNlOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBVc2VyIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnUoKQoKIyMjIyMgRFVNUCAjIyMjIwpkZWYgZHVtcCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBHZXQgSUQgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gR2V0IElEIGZyaWVuZCBmcm9tIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy5cMDMzWzE7OTdtIEdldCBJRCBTZWFyY2giCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBHZXQgZ3JvdXAgbWVtYmVyIElEIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gR2V0IGdyb3VwIG1lbWJlciBlbWFpbCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi5cMDMzWzE7OTdtIEdldCBncm91cCBtZW1iZXIgcGhvbmUgbnVtYmVyIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm03LlwwMzNbMTs5N20gR2V0IGVtYWlsIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtOC5cMDMzWzE7OTdtIEdldCBlbWFpbCBmcmllbmQgZnJvbSBmcmllbmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTkuXDAzM1sxOzk3bSBHZXQgYSBmcmllbmQncyBwaG9uZSBudW1iZXIiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEwLlwwMzNbMTs5N20gR2V0IGEgZnJpZW5kJ3MgcGhvbmUgbnVtYmVyIGZyb20gZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglkdW1wX3BpbGloKCkKIy0tLS0tcGlsaWgKZGVmIGR1bXBfcGlsaWgoKToKCWN1aWggPSByYXdfaW5wdXQoIlwwMzNbMTs5N23ilZrilZBcMDMzWzE7OTFtRCBcMDMzWzE7OTdtIikKCWlmIGN1aWggPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlkdW1wX3BpbGloKCkKCWVsaWYgY3VpaCA9PSIxIjoKCQlpZF90ZW1hbigpCgllbGlmIGN1aWggPT0iMiI6CgkJaWRmcm9tX3RlbWFuKCkKCWVsaWYgY3VpaCA9PSIzIjoKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCAiXDAzM1sxOzkxbVNlZ2VyYSIKCQlrZWx1YXIoKQoJZWxpZiBjdWloID09IjQiOgoJCWlkX21lbWJlcl9ncnVwKCkKCWVsaWYgY3VpaCA9PSI1IjoKCQllbV9tZW1iZXJfZ3J1cCgpCgllbGlmIGN1aWggPT0iNiI6CgkJbm9fbWVtYmVyX2dydXAoKQoJZWxpZiBjdWloID09IjciOgoJCWVtYWlsKCkKCWVsaWYgY3VpaCA9PSI4IjoKCQllbWFpbGZyb21fdGVtYW4oKQoJZWxpZiBjdWloID09IjkiOgoJCW5vbW9yX2hwKCkKCWVsaWYgY3VpaCA9PSIxMCI6CgkJaHBmcm9tX3RlbWFuKCkKCWVsaWYgY3VpaCA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJZHVtcF9waWxpaCgpCgkJCiMjIyMjIElEIFRFTUFOICMjIyMjCmRlZiBpZF90ZW1hbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlyPXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGlkIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L2lkX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBhIGluIHpbJ2RhdGEnXToKCQkJaWR0ZW1hbi5hcHBlbmQoYVsnaWQnXSkKCQkJYnoud3JpdGUoYVsnaWQnXSArICdcbicpCgkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGlkdGVtYW4pKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK2FbJ2lkJ10pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgwLjAwMDEpCgkJYnouY2xvc2UoKQoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGlkIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGlkdGVtYW4pKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9pZF90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoKIyMjIyMgSUQgRlJPTSBURU1BTiAjIyMjIwpkZWYgaWRmcm9tX3RlbWFuKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZnJpZW5kIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJcj1yZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyI/ZmllbGRzPWZyaWVuZHMubGltaXQoNTAwMCkmYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJej1qc29uLmxvYWRzKHIudGV4dCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBpZCBmcm9tIGZyaWVuZCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlieiA9IG9wZW4oJ291dC9pZF90ZW1hbl9mcm9tX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBhIGluIHpbJ2ZyaWVuZHMnXVsnZGF0YSddOgoJCQlpZGZyb210ZW1hbi5hcHBlbmQoYVsnaWQnXSkKCQkJYnoud3JpdGUoYVsnaWQnXSArICdcbicpCgkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGlkZnJvbXRlbWFuKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIithWydpZCddKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCWJ6LmNsb3NlKCkKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBpZCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIElEIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihpZGZyb210ZW1hbikpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2lkX3RlbWFuX2Zyb21fdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCiMjIyMjIElEIEZST00gTUVNQkVSIEdSVVAgIyMjIyMKZGVmIGlkX21lbWJlcl9ncnVwKCk6Cgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlpZD1yYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJCXRyeToKCQkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkKycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQlkdW1wKCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgZ3JvdXAgbWVtYmVyIGlkIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L21lbWJlcl9ncnVwLnR4dCcsJ3cnKQoJCXJlPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnL21lbWJlcnM/ZmllbGRzPW5hbWUsaWQmbGltaXQ9OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCXM9anNvbi5sb2FkcyhyZS50ZXh0KQoJCWZvciBhIGluIHNbJ2RhdGEnXToKCQkJaWRtZW0uYXBwZW5kKGFbJ2lkJ10pCgkJCWJ6LndyaXRlKGFbJ2lkJ10gKyAnXG4nKQoJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihpZG1lbSkpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrYVsnaWQnXSksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQliei5jbG9zZSgpCgkJcHJpbnQgJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybVN1Y2Nlc3NmdWxseSBnZXQgaWQgXDAzM1sxOzk3bS4uLi4nCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaWRtZW0pKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9tZW1iZXJfZ3J1cC50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoKIyMjIyMgRU1BSUwgRlJPTSBHUlVQICMjIyMjCmRlZiBlbV9tZW1iZXJfZ3J1cCgpOgoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCXRyeToKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJaWQ9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCQl0cnk6CgkJCXI9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9ncm91cC8/aWQ9JytpZCsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQlhc3c9anNvbi5sb2FkcyhyLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGdyb3VwIG1lbWJlciBlbWFpbCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlieiA9IG9wZW4oJ291dC9lbV9tZW1iZXJfZ3J1cC50eHQnLCd3JykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlzPWpzb24ubG9hZHMocmUudGV4dCkKCQlmb3IgYSBpbiBzWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrYVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWVtbWVtLmFwcGVuZCh6WydlbWFpbCddKQoJCQkJYnoud3JpdGUoelsnZW1haWwnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbW1lbSkpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnZW1haWwnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBlbWFpbCBmcm9tIG1lbWJlciBncm91cCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIEVtYWlsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihlbW1lbSkpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2VtX21lbWJlcl9ncnVwLnR4dCcsJ291dC8nK2RvbmUpCgkJcHJpbnQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0LyIrZG9uZSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciBjcmVhdGluZyBmaWxlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEVycm9yJykKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1b4pyWXSBObyBjb25uZWN0aW9uIgoJCWtlbHVhcigpCgkJCiMjIyMjIE5PTUVSIEZST00gR1JVUCAjIyMjIwpkZWYgbm9fbWVtYmVyX2dydXAoKToKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgkJdHJ5OgoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWQrJyZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBncm91cCBtZW1iZXIgcGhvbmUgbnVtYmVyIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L25vX21lbWJlcl9ncnVwLnR4dCcsJ3cnKQoJCXJlPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnL21lbWJlcnM/ZmllbGRzPW5hbWUsaWQmbGltaXQ9OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCXM9anNvbi5sb2FkcyhyZS50ZXh0KQoJCWZvciBhIGluIHNbJ2RhdGEnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIithWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJbm9tZW0uYXBwZW5kKHpbJ21vYmlsZV9waG9uZSddKQoJCQkJYnoud3JpdGUoelsnbW9iaWxlX3Bob25lJ10gKyAnXG4nKQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4obm9tZW0pKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IHBob25lIG51bWJlciBmcm9tIG1lbWJlciBncm91cCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4obm9tZW0pKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9ub19tZW1iZXJfZ3J1cC50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoJCQojIyMjIyBFTUFJTCAjIyMjIwpkZWYgZW1haWwoKToKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMoci50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIGVtYWlsIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWJ6ID0gb3Blbignb3V0L2VtYWlsX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBpIGluIGFbJ2RhdGEnXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJZW0uYXBwZW5kKHpbJ2VtYWlsJ10pCgkJCQliei53cml0ZSh6WydlbWFpbCddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGVtKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6WydlbWFpbCddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IGVtYWlsIFwwMzNbMTs5N20uLi4uJwoJCXByaW50IlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgRW1haWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGVtKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvZW1haWxfdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCiMjIyMjIEVNQUlMIEZST00gVEVNQU4gIyMjIyMKZGVmIGVtYWlsZnJvbV90ZW1hbigpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCWR1bXAoKQoJCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWR0KycvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhyLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGFsbCBmcmllbmQgZW1haWwgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYnogPSBvcGVuKCdvdXQvZW1fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgaSBpbiBhWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWVtZnJvbXRlbWFuLmFwcGVuZCh6WydlbWFpbCddKQoJCQkJYnoud3JpdGUoelsnZW1haWwnXSArICdcbicpCgkJCQlwcmludCAoIlxyXDAzM1sxOzk3bVsgXDAzM1sxOzkybSIrc3RyKGxlbihlbWZyb210ZW1hbikpKyJcMDMzWzE7OTdtIF1cMDMzWzE7OTdtPT4gXDAzM1sxOzk3bSIrelsnZW1haWwnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBlbWFpbCBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIEVtYWlsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20lcyIlKGxlbihlbWZyb210ZW1hbikpCgkJZG9uZSA9IHJhd19pbnB1dCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlIGZpbGUgd2l0aCBuYW1lXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiKQoJCW9zLnJlbmFtZSgnb3V0L2VtX3RlbWFuX2Zyb21fdGVtYW4udHh0Jywnb3V0LycrZG9uZSkKCQlwcmludCgiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvIitkb25lKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEVycm9yIGNyZWF0aW5nIGZpbGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIFN0b3BwZWQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQoJ1wwMzNbMTs5MW1bIV0gRXJyb3InKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZHVtcCgpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJa2VsdWFyKCkKCQkKIyMjIyMgTk9NRVIgIyMjIyMKZGVmIG5vbW9yX2hwKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUdldCBhbGwgZnJpZW5kIG51bWJlciBwaG9uZSBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQl1cmw9ICJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0CgkJciA9cmVxdWVzdHMuZ2V0KHVybCkKCQl6PWpzb24ubG9hZHMoci50ZXh0KQoJCWJ6ID0gb3Blbignb3V0L25vbWVyX3RlbWFuLnR4dCcsJ3cnKQoJCWZvciBuIGluIHpbImRhdGEiXToKCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIituWydpZCddKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJdHJ5OgoJCQkJaHAuYXBwZW5kKHpbJ21vYmlsZV9waG9uZSddKQoJCQkJYnoud3JpdGUoelsnbW9iaWxlX3Bob25lJ10gKyAnXG4nKQoJCQkJcHJpbnQgKCJcclwwMzNbMTs5N21bIFwwMzNbMTs5Mm0iK3N0cihsZW4oaHApKSsiXDAzM1sxOzk3bSBdXDAzM1sxOzk3bT0+IFwwMzNbMTs5N20iK3pbJ21vYmlsZV9waG9uZSddKyIgfCAiK3pbJ25hbWUnXSsiXG4iKSw7c3lzLnN0ZG91dC5mbHVzaCgpO3RpbWUuc2xlZXAoMC4wMDAxKQoJCQlleGNlcHQgS2V5RXJyb3I6CgkJCQlwYXNzCgkJYnouY2xvc2UoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50ICdcclwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1TdWNjZXNzZnVsbHkgZ2V0IG51bWJlciBcMDMzWzE7OTdtLi4uLicKCQlwcmludCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIE51bWJlciBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtJXMiJShsZW4oaHApKQoJCWRvbmUgPSByYXdfaW5wdXQoIlxyXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtU2F2ZSBmaWxlIHdpdGggbmFtZVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIikKCQlvcy5yZW5hbWUoJ291dC9ub21lcl90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoKIyMjIyMgTk9NRVIgRlJPTSBURU1BTiAjIyMjIwpkZWYgaHBmcm9tX3RlbWFuKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJb3Muc3lzdGVtKCdyZXNldCcpCgkJcHJpbnQgbG9nbwoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZnJpZW5kIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gRnJpZW5kIG5vdCBmb3VuZCIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJZHVtcCgpCgkJciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZHQrJy9mcmllbmRzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWEgPSBqc29uLmxvYWRzKHIudGV4dCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBudW1iZXIgZnJvbSBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJYnogPSBvcGVuKCdvdXQvbm9fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCd3JykKCQlmb3IgaSBpbiBhWydkYXRhJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXRyeToKCQkJCWhwZnJvbXRlbWFuLmFwcGVuZCh6Wydtb2JpbGVfcGhvbmUnXSkKCQkJCWJ6LndyaXRlKHpbJ21vYmlsZV9waG9uZSddICsgJ1xuJykKCQkJCXByaW50ICgiXHJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtIitzdHIobGVuKGhwZnJvbXRlbWFuKSkrIlwwMzNbMTs5N20gXVwwMzNbMTs5N209PiBcMDMzWzE7OTdtIit6Wydtb2JpbGVfcGhvbmUnXSsiIHwgIit6WyduYW1lJ10rIlxuIiksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDAuMDAwMSkKCQkJZXhjZXB0IEtleUVycm9yOgoJCQkJcGFzcwoJCWJ6LmNsb3NlKCkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAnXHJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtU3VjY2Vzc2Z1bGx5IGdldCBudW1iZXIgXDAzM1sxOzk3bS4uLi4nCgkJcHJpbnQiXHJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBOdW1iZXIgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiUobGVuKGhwZnJvbXRlbWFuKSkKCQlkb25lID0gcmF3X2lucHV0KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVNhdmUgZmlsZSB3aXRoIG5hbWVcMDMzWzE7OTFtIDpcMDMzWzE7OTdtICIpCgkJb3MucmVuYW1lKCdvdXQvbm9fdGVtYW5fZnJvbV90ZW1hbi50eHQnLCdvdXQvJytkb25lKQoJCXByaW50KCJcclwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgc2F2ZWQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bW91dC8iK2RvbmUpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gRXJyb3IgY3JlYXRpbmcgZmlsZSIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWR1bXAoKQoJZXhjZXB0IChLZXlib2FyZEludGVycnVwdCxFT0ZFcnJvcik6CgkJcHJpbnQoIlwwMzNbMTs5MW1bIV0gU3RvcHBlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCgnXDAzM1sxOzkxbVshXSBFcnJvcicpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlkdW1wKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gY29ubmVjdGlvbiIKCQlrZWx1YXIoKQoKIyMjIyMgTUVOVSBIQUNLICMjIyMjCmRlZiBtZW51X2hhY2soKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gTWluaSBIYWNrIEZhY2Vib29rKFwwMzNbMTs5Mm1UYXJnZXRcMDMzWzE7OTdtKSIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIE11bHRpIEJydXRlZm9yY2UgRmFjZWJvb2siCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBTdXBlciBNdWx0aSBCcnV0ZWZvcmNlIEZhY2Vib29rIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LlwwMzNbMTs5N20gQnJ1dGVGb3JjZShcMDMzWzE7OTJtVGFyZ2V0XDAzM1sxOzk3bSkiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTUuXDAzM1sxOzk3bSBZYWhvbyBDaGVja2VyIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCgloYWNrX3BpbGloKCkKIy0tLS1waWxpaApkZWYgaGFja19waWxpaCgpOgoJaGFjayA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgaGFjaz09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJaGFja19waWxpaCgpCgllbGlmIGhhY2sgPT0iMSI6CgkJbWluaSgpCgllbGlmIGhhY2sgPT0iMiI6CgkJY3JhY2soKQoJCWhhc2lsKCkKCWVsaWYgaGFjayA9PSIzIjoKCQlzdXBlcigpCgllbGlmIGhhY2sgPT0iNCI6CgkJYnJ1dGUoKQoJZWxpZiBoYWNrID09IjUiOgoJCW1lbnVfeWFob28oKQoJZWxpZiBoYWNrID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQloYWNrX3BpbGloKCkKCQkKIyMjIyMgTUlOSSBIRiAjIyMjIwpkZWYgbWluaSgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3bVtcMDMzWzE7OTFtSU5GT1wwMzNbMTs5N21dIFwwMzNbMTs5MW1UaGUgdGFyZ2V0IGFjY291bnQgbXVzdCBiZSBmcmllbmRzXG4gICAgICAgd2l0aCB5b3VyIGFjY291bnQgZmlyc3QhIgoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgl0cnk6CgkJaWQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRhcmdldCBJRCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIikKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1XYWl0IGEgbWludXRlIFwwMzNbMTs5N20uLi4nKQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQlhID0ganNvbi5sb2FkcyhyLnRleHQpCgkJcHJpbnQgJ1wwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gOiAnK2FbJ25hbWUnXQoJCWphbGFuKCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1DaGVjayBcMDMzWzE7OTdtLi4uJykKCQl0aW1lLnNsZWVwKDIpCgkJamFsYW4oJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybU9wZW4gcGFzc3dvcmQgXDAzM1sxOzk3bS4uLicpCgkJdGltZS5zbGVlcCgyKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXB6MSA9IGFbJ2ZpcnN0X25hbWUnXSsnMTIzJwoJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejEpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MQoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQltZW51X2hhY2soKQoJCWVsc2U6CgkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MQoJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCW1lbnVfaGFjaygpCgkJCWVsc2U6CgkJCQlwejIgPSBhWydmaXJzdF9uYW1lJ10gKyAnMTIzNDUnCgkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyhpZCkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocHoyKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6CgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejIKCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCW1lbnVfaGFjaygpCgkJCQllbHNlOgoJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTNtQWNjb3VudCBDaGVja3BvaW50IgoJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmRcMDMzWzE7OTdtIDogIitwejIKCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJbWVudV9oYWNrKCkKCQkJCQllbHNlOgoJCQkJCQlwejMgPSBhWydsYXN0X25hbWUnXSArICcxMjMnCgkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHk6CgkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MwoJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCWVsc2U6CgkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZvdW5kIgoJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6MwoJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCWVsc2U6CgkJCQkJCQkJbGFoaXIgPSBhWydiaXJ0aGRheSddCgkJCQkJCQkJcHo0ID0gbGFoaXIucmVwbGFjZSgnLycsICcnKQoJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NAoJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NAoJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQlsYWhpcnMgPSBhWydiaXJ0aGRheSddCgkJCQkJCQkJCQlnYXogPSBsYWhpcnMucmVwbGFjZSgnLycsICcnKQoJCQkJCQkJCQkJcHo1ID0gYVsnZmlyc3RfbmFtZSddK2dhegoJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6NSkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQl5ID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo1CgkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4geVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1OYW1lXDAzM1sxOzk3bSAgICAgOiAiK2FbJ25hbWUnXQoJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo1CgkJCQkJCQkJCQkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJcHo2ID0gImtvbnRvbDEyMyIKCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoaWQpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB6NikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4geToKCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVVzZXJuYW1lXDAzM1sxOzk3bSA6ICIraWQKCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo2CgkJCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW+KeuV0gXDAzM1sxOzkybVBhc3N3b3JkXDAzM1sxOzk3bSA6ICIrcHo2CgkJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQlwejcgPSAic2F5YW5nMTIzIgoJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKGlkKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwejcpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJCXkgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiB5OgoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtTmFtZVwwMzNbMTs5N20gICAgIDogIithWyduYW1lJ10KCQkJCQkJCQkJCQkJCQkJcHJpbnQgIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWVcMDMzWzE7OTdtIDogIitpZAoJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NwoJCQkJCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQkJCQkJCQltZW51X2hhY2soKQoJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiB5WyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Gb3VuZCIKCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIFwwMzNbMTs5M21BY2NvdW50IENoZWNrcG9pbnQiCgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybU5hbWVcMDMzWzE7OTdtICAgICA6ICIrYVsnbmFtZSddCgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZVwwMzNbMTs5N20gOiAiK2lkCgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZFwwMzNbMTs5N20gOiAiK3B6NgoJCQkJCQkJCQkJCQkJCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQkJCQkJCQkJCQkJCQkJCW1lbnVfaGFjaygpCgkJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCQlwcmludCAiXDAzM1sxOzkxbVshXSBTb3JyeSwgZmFpbGVkIHRvIG9wZW4gdGhlIHRhcmdldCBwYXNzd29yZCA6KCIKCQkJCQkJCQkJCQkJCQkJCXByaW50ICJcMDMzWzE7OTFtWyFdIHRyeSBpdCBhbm90aGVyIHdheS4iCgkJCQkJCQkJCQkJCQkJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQkJCQkJCQkJCQkJCQkJbWVudV9oYWNrKCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBUZXJnZXQgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9oYWNrKCkKCQkJCQkJCQkJCQoJCQkJCQkJCQojIyMjIyBNdWx0aSBCcnV0ZSBGb3JjZSAjIyMjIwojIyMjIyBDUkFDSyAjIyMjCmRlZiBjcmFjaygpOgoJZ2xvYmFsIGlkbGlzdCxwYXNzdyxmaWxlCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCWlkbGlzdCA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBJRCAgXDAzM1sxOzkxbTogXDAzM1sxOzk3bScpCglwYXNzdyA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtUGFzc3dvcmQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bScpCgl0cnk6CgkJZmlsZSA9IG9wZW4oKGlkbGlzdCksICJyIikKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCQlmb3IgeCBpbiByYW5nZSg0MCk6CgkJCXplZGQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1zY3JhaywgYXJncz0oKSkKCQkJemVkZC5zdGFydCgpCgkJCXRocmVhZHMuYXBwZW5kKHplZGQpCgkJZm9yIHplZGQgaW4gdGhyZWFkczoKCQkJemVkZC5qb2luKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50ICgiXDAzM1sxOzkxbVshXSBGaWxlIG5vdCBmb3VuZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2hhY2soKQoJCQpkZWYgc2NyYWsoKToKCWdsb2JhbCBiZXJoYXNpbCxjZWtwb2ludCxnYWdhbCxiYWNrLHVwCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCgl0cnk6CgkJYnVrYSA9IG9wZW4oaWRsaXN0LCAiciIpCgkJdXAgPSBidWthLnJlYWQoKS5zcGxpdCgpCgkJd2hpbGUgZmlsZToKCQkJdXNlcm5hbWUgPSBmaWxlLnJlYWRsaW5lKCkuc3RyaXAoKQoJCQl1cmwgPSAiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXJuYW1lKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzdykrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIKCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKHVybCkKCQkJbXBzaCA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiBiYWNrID09IChsZW4odXApKToKCQkJCWJyZWFrCgkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIG1wc2g6CgkJCQliaXNhID0gb3Blbigib3V0L21iZl9vay50eHQiLCAidyIpCgkJCQliaXNhLndyaXRlKHVzZXJuYW1lKyJ8IitwYXNzdysiXG4iKQoJCQkJYmlzYS5jbG9zZSgpCgkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXJuYW1lKyI/YWNjZXNzX3Rva2VuPSIrbXBzaFsnYWNjZXNzX3Rva2VuJ10pCgkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQliZXJoYXNpbC5hcHBlbmQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1PS+Kck1wwMzNbMTs5N20gXSAiK3VzZXJuYW1lKyJ8IiArcGFzc3crIiA9PiIrelsnbmFtZSddKQoJCQllbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWyJlcnJvcl9tc2ciXToKCQkJCWNlayA9IG9wZW4oIm91dC9tYmZfY3AudHh0IiwgInciKQoJCQkJY2VrLndyaXRlKHVzZXJuYW1lKyJ8IitwYXNzdysiXG4iKQoJCQkJY2VrLmNsb3NlKCkKCQkJCWNla3BvaW50LmFwcGVuZCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkzbUNQ4pyaXDAzM1sxOzk3bSBdICIrdXNlcm5hbWUrInwiICtwYXNzdykKCQkJZWxzZToKCQkJCWdhZ2FsLmFwcGVuZCh1c2VybmFtZSkKCQkJCWJhY2sgKz0xCgkJCXN5cy5zdGRvdXQud3JpdGUoJ1xyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4py4XDAzM1sxOzkxbV0gXDAzM1sxOzkybUNyYWNrICAgIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnK3N0cihiYWNrKSsnIFwwMzNbMTs5Nm0+XDAzM1sxOzk3bSAnK3N0cihsZW4odXApKSsnID0+XDAzM1sxOzkybUxpdmVcMDMzWzE7OTFtOlwwMzNbMTs5Nm0nK3N0cihsZW4oYmVyaGFzaWwpKSsnIFwwMzNbMTs5N209PlwwMzNbMTs5M21DaGVja1wwMzNbMTs5MW06XDAzM1sxOzk2bScrc3RyKGxlbihjZWtwb2ludCkpKTtzeXMuc3Rkb3V0LmZsdXNoKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlxuXDAzM1sxOzkxbVshXSBTbGVlcCIKCQl0aW1lLnNsZWVwKDEpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVvinJZdIE5vIGNvbm5lY3Rpb24iCgkJCmRlZiBoYXNpbCgpOgoJcHJpbnQKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJIyMjQmVyaGFzaWwKCWZvciBiIGluIGJlcmhhc2lsOgoJCXByaW50KGIpCgkjIyNDRUsKCWZvciBjIGluIGNla3BvaW50OgoJCXByaW50KGMpCgkjIyNHYWdhbAoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglwcmludCAoIlwwMzNbMzFtW3hdIEZhaWxlZCBcMDMzWzE7OTdtLS0+ICIgKyBzdHIobGVuKGdhZ2FsKSkpCglrZWx1YXIoKQoJCiMjIyMjIyMjIyMjIyMjIyBTVVBFUiBNQkYgIyMjIyMjIyMjIyMjIyMjIwpkZWYgc3VwZXIoKToKCWdsb2JhbCB0b2tldAoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBDcmFjayB3aXRoIGxpc3QgZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gQ3JhY2sgZnJvbSBmcmllbmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBDcmFjayBmcm9tIG1lbWJlciBncm91cCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC5cMDMzWzE7OTdtIENyYWNrIGZyb20gZmlsZSIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJcGlsaWhfc3VwZXIoKQoKZGVmIHBpbGloX3N1cGVyKCk6CglwZWFrID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBwZWFrID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcGlsaWhfc3VwZXIoKQoJZWxpZiBwZWFrID09IjEiOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGZyaWVuZCBpZCBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgcyBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChzWydpZCddKQoJZWxpZiBwZWFrID09IjIiOgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUlucHV0IElEIGZyaWVuZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCQl0cnk6CgkJCWpvayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZHQrIj9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJb3AgPSBqc29uLmxvYWRzKGpvay50ZXh0KQoJCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCJcMDMzWzE7OTFtWyFdIEZyaWVuZCBub3QgZm91bmQiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJCXN1cGVyKCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXQgYWxsIGlkIGZyb20gZnJpZW5kIFwwMzNbMTs5N20uLi4nKQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIzIjoKCQlvcy5zeXN0ZW0oJ3Jlc2V0JykKCQlwcmludCBsb2dvCgkJaWRnPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgkJdHJ5OgoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRnKycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQlzdXBlcigpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0IGdyb3VwIG1lbWJlciBpZCBcMDMzWzE7OTdtLi4uJykKCQlyZT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWRnKycvbWVtYmVycz9maWVsZHM9bmFtZSxpZCZsaW1pdD05OTk5OTk5OTkmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJcz1qc29uLmxvYWRzKHJlLnRleHQpCgkJZm9yIHAgaW4gc1snZGF0YSddOgoJCQlpZC5hcHBlbmQocFsnaWQnXSkKCWVsaWYgcGVhayA9PSAnNCc6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXRyeToKCQkJaWRsaXN0ID0gcmF3X2lucHV0KCdceDFiWzE7OTFtWytdIFx4MWJbMTs5Mm1GaWxlIE5hbWUgIFx4MWJbMTs5MW06IFx4MWJbMTs5N20nKQoJCQlmb3IgbGluZSBpbiBvcGVuKGlkbGlzdCwncicpLnJlYWRsaW5lcygpOgoJCQkJaWQuYXBwZW5kKGxpbmUuc3RyaXAoKSkKCQlleGNlcHQgSU9FcnJvcjoKCQkJcHJpbnQgJ1x4MWJbMTs5MW1bIV0gRmlsZSBub3QgZm91bmQnCgkJCXJhd19pbnB1dCgnXG5ceDFiWzE7OTFtWyBceDFiWzE7OTdtQmFjayBceDFiWzE7OTFtXScpCgkJCXN1cGVyKCkKCWVsaWYgcGVhayA9PSIwIjoKCQltZW51X2hhY2soKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlwaWxpaF9zdXBlcigpCgkJCglwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgSUQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihpZCkpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQoJZm9yIG8gaW4gdGl0aWs6CgkJcHJpbnQoIlxyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4py4XDAzM1sxOzkxbV0gXDAzM1sxOzkybUNyYWNrIFwwMzNbMTs5N20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoJcHJpbnQKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCgkJCQoJIyMjIyMgY3JhY2sgIyMjIyMKCWRlZiBtYWluKGFyZyk6CgkJZ2xvYmFsIGNla3BvaW50LG9rcwoJCXVzZXIgPSBhcmcKCQl0cnk6CgkJCW9zLm1rZGlyKCdvdXQnKQoJCWV4Y2VwdCBPU0Vycm9yOgoJCQlwYXNzCgkJdHJ5OgoJCQkjUGFzczEKCQkJYSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQliID0ganNvbi5sb2FkcyhhLnRleHQpCgkJCXBhc3MxID0gYlsnZmlyc3RfbmFtZSddKycxMjMnCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU9L4pyTXDAzM1sxOzk3bSBdICIrdXNlcisgInwiICtwYXNzMSsiID0+Iit6WyduYW1lJ10pCgkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczEpCgkJCWVsc2U6CgkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczErIlxuIikKCQkJCQljZWsuY2xvc2UoKQoJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQkJZWxzZToKCQkJCQkjUGFzczIKCQkJCQlwYXNzMiA9IGJbJ2ZpcnN0X25hbWUnXSsnMTIzNDUnCgkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczIpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkKCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU9L4pyTXDAzM1sxOzk3bSBdICIrdXNlcisgInwiICtwYXNzMisiID0+Iit6WyduYW1lJ10pCgkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMikKCQkJCQllbHNlOgoJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3MyKyJcbiIpCgkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczIpCgkJCQkJCWVsc2U6CgkJCQkJCQkjUGFzczMKCQkJCQkJCXBhc3MzID0gYlsnbGFzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkKCQkJCQkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1PS+Kck1wwMzNbMTs5N20gXSAiK3VzZXIrICJ8IiArcGFzczMrIiA9PiIrelsnbmFtZSddKQoJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzMykKCQkJCQkJCWVsc2U6CgkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQljZWsud3JpdGUodXNlcisifCIrcGFzczMrIlxuIikKCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczMpCgkJCQkJCQkJZWxzZToKCQkJCQkJCQkJI1Bhc3M0CgkJCQkJCQkJCWEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJCQkJCQkJbGFoaXIgPSBiWydiaXJ0aGRheSddCgkJCQkJCQkJCXBhc3M0ID0gbGFoaXIucmVwbGFjZSgnLycsICcnKQoJCQkJCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzNCkrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrdXNlcisiP2FjY2Vzc190b2tlbj0iK3FbJ2FjY2Vzc190b2tlbiddKQoJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1PS+Kck1wwMzNbMTs5N20gXSAiK3VzZXIrICJ8IiArcGFzczQrIiA9PiIrelsnbmFtZSddKQoJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCWNlayA9IG9wZW4oIm91dC9zdXBlcl9jcC50eHQiLCAiYSIpCgkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M0KyJcbiIpCgkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzNCkKCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJI1Bhc3M1CgkJCQkJCQkJCQkJYSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQkJCQkJCQkJCXBhc3M1ID0gYlsnbGFzdF9uYW1lJ10gKyAnMTIzNDUnCgkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczUpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQkJCQkJCQl4ID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK3VzZXIrIj9hY2Nlc3NfdG9rZW49IitxWydhY2Nlc3NfdG9rZW4nXSkKCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU9L4pyTXDAzM1sxOzk3bSBdICIrdXNlcisgInwiICtwYXNzNSsiID0+Iit6WyduYW1lJ10pCgkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNSkKCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M1KyJcbiIpCgkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkjUGFzczYKCQkJCQkJCQkJCQkJCXBhc3M2ID0gJ3NheWFuZzEyMycKCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M2KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCXEgPSBqc29uLmxvYWQoZGF0YSkKCQkJCQkJCQkJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCQkJCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQkJCQkJCQkJCQkJeiA9IGpzb24ubG9hZHMoeC50ZXh0KQoJCQkJCQkJCQkJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtT0vinJNcMDMzWzE7OTdtIF0gIit1c2VyKyAifCIgK3Bhc3M2KyIgPT4iK3pbJ25hbWUnXSkKCQkJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczYpCgkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M2KyJcbiIpCgkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCQkJCQkJCSNQYXNzNwoJCQkJCQkJCQkJCQkJCQlhID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VzZXIrJy8/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCQkJCQkJCQkJCQkJCWIgPSBqc29uLmxvYWRzKGEudGV4dCkKCQkJCQkJCQkJCQkJCQkJcGFzczcgPSAnZG9yYWVtb24xMjMnCgkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQkJCQkJCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQkJCQkJCQkJCQkJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCQkJCQkJCQkJCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU9L4pyTXDAzM1sxOzk3bSBdICIrdXNlcisgInwiICtwYXNzNysiID0+IitbJ25hbWUnXSkKCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzNykKCQkJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQkJCWNlay53cml0ZSh1c2VyKyJ8IitwYXNzNysiXG4iKQoJCQkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczcpCgkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCSNQYXNzOAoJCQkJCQkJCQkJCQkJCQkJCWEgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycrdXNlcisnLz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQkJCQkJCQkJCQkJCQkJCQliID0ganNvbi5sb2FkcyhhLnRleHQpCgkJCQkJCQkJCQkJCQkJCQkJcGFzczggPSAna29udG9sMTIzJwoJCQkJCQkJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M4KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQkJCQkJeCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit1c2VyKyI/YWNjZXNzX3Rva2VuPSIrcVsnYWNjZXNzX3Rva2VuJ10pCgkJCQkJCQkJCQkJCQkJCQkJCXogPSBqc29uLmxvYWRzKHgudGV4dCkKCQkJCQkJCQkJCQkJCQkJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1PS+Kck1wwMzNbMTs5N20gXSAiK3VzZXIrICJ8IiArcGFzczgrIiA9PiIrWyduYW1lJ10pCgkJCQkJCQkJCQkJCQkJCQkJCW9rcy5hcHBlbmQodXNlcitwYXNzOCkKCQkJCQkJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKHVzZXIrInwiK3Bhc3M4KyJcbiIpCgkJCQkJCQkJCQkJCQkJCQkJCQljZWsuY2xvc2UoKQoJCQkJCQkJCQkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczgpCgkJCQkJCQkJCQkJCQkJCQkJCgkJCQkJCQkJCQkJCQkJCQoJCWV4Y2VwdDoKCQkJcGFzcwoJCQoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgT0svQ1AgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrc3RyKGxlbihva3MpKSsiXDAzM1sxOzk3bS9cMDMzWzE7OTNtIitzdHIobGVuKGNla3BvaW50KSkKCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1DUCBGaWxlIHNhdmVkIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvc3VwZXJfY3AudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCglzdXBlcigpCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMjIyMjIEJSVVRFIEZPUkNFICMjIyMjCmRlZiBicnV0ZSgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXRyeToKCQllbWFpbCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSURcMDMzWzE7OTdtL1wwMzNbMTs5Mm1FbWFpbFwwMzNbMTs5N20vXDAzM1sxOzkybUhwIFwwMzNbMTs5N21UYXJnZXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgkJcGFzc3cgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVdvcmRsaXN0IFwwMzNbMTs5N21leHQobGlzdC50eHQpIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRvdGFsID0gb3BlbihwYXNzdywiciIpCgkJdG90YWwgPSB0b3RhbC5yZWFkbGluZXMoKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1UYXJnZXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrZW1haWwKCQlwcmludCAiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWxcMDMzWzE7OTZtICIrc3RyKGxlbih0b3RhbCkpKyIgXDAzM1sxOzkybVBhc3N3b3JkIgoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXNhbmRpID0gb3BlbihwYXNzdywiciIpCgkJZm9yIHB3IGluIHNhbmRpOgoJCQl0cnk6CgkJCQlwdyA9IHB3LnJlcGxhY2UoIlxuIiwiIikKCQkJCXN5cy5zdGRvdXQud3JpdGUoIlxyXDAzM1sxOzkxbVtcMDMzWzE7OTZt4py4XDAzM1sxOzkxbV0gXDAzM1sxOzkybUNyYWNrIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3B3KQoJCQkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJCQlkYXRhID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisoZW1haWwpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHB3KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCW1wc2ggPSBqc29uLmxvYWRzKGRhdGEudGV4dCkKCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIG1wc2g6CgkJCQkJZGFwYXQgPSBvcGVuKCJCcnV0ZS50eHQiLCAidyIpCgkJCQkJZGFwYXQud3JpdGUoZW1haWwrIiB8ICIrcHcrIlxuIikKCQkJCQlkYXBhdC5jbG9zZSgpCgkJCQkJcHJpbnQgIlxuXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJCQkJcHJpbnQoIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtVXNlcm5hbWUgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrZW1haWwpCgkJCQkJcHJpbnQoIlwwMzNbMTs5MW1b4p65XSBcMDMzWzE7OTJtUGFzc3dvcmQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrcHcpCgkJCQkJa2VsdWFyKCkKCQkJCWVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIG1wc2hbImVycm9yX21zZyJdOgoJCQkJCWNla3MgPSBvcGVuKCJCcnV0ZWNla3BvaW50LnR4dCIsICJ3IikKCQkJCQljZWtzLndyaXRlKGVtYWlsKyIgfCAiK3B3KyJcbiIpCgkJCQkJY2Vrcy5jbG9zZSgpCgkJCQkJcHJpbnQgIlxuXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRm91bmQiCgkJCQkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJCQkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkzbUFjY291bnQgQ2hlY2twb2ludCIKCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1Vc2VybmFtZSBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitlbWFpbCkKCQkJCQlwcmludCgiXDAzM1sxOzkxbVvinrldIFwwMzNbMTs5Mm1QYXNzd29yZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIitwdykKCQkJCQlrZWx1YXIoKQoJCQlleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJCQlwcmludCJcMDMzWzE7OTFtWyFdIENvbm5lY3Rpb24gRXJyb3IiCgkJCQl0aW1lLnNsZWVwKDEpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCAoIlwwMzNbMTs5MW1bIV0gRmlsZSBub3QgZm91bmQiKQoJCXRhbnlhdygpCmRlZiB0YW55YXcoKToKCXdoeSA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtQ3JlYXRlIHdvcmRsaXN0ID8gXDAzM1sxOzkybVt5L25dXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglpZiB3aHkgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyIKCQl0YW55YXcoKQoJZWxpZiB3aHkgPT0ieSI6CgkJd29yZGxpc3QoKQoJZWxpZiB3aHkgPT0iWSI6CgkJd29yZGxpc3QoKQoJZWxpZiB3aHkgPT0ibiI6CgkJbWVudV9oYWNrKCkKCWVsaWYgd2h5ID09Ik4iOgoJCW1lbnVfaGFjaygpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIgoJCXRhbnlhdygpCgojIyMjIyBZQUhPTyBDSEVDS0VSICMjIyMjCiMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBtZW51X3lhaG9vKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gV2l0aCBsaXN0IGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi5cMDMzWzE7OTdtIENsb25lIGZyb20gZnJpZW5kIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0zLlwwMzNbMTs5N20gQ2xvbmUgZnJvbSBtZW1iZXIgZ3JvdXAiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBVc2luZyBmaWxlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCgl5YWhvb19waWxpaCgpCiMtLS0tcGlsaWgKZGVmIHlhaG9vX3BpbGloKCk6CglnbyA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgZ28gPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyIKCQl5YWhvb19waWxpaCgpCgllbGlmIGdvID09IjEiOgoJCXlhaG9vZnJpZW5kcygpCgllbGlmIGdvID09IjIiOgoJCXlhaG9vZnJvbWZyaWVuZHMoKQoJZWxpZiBnbyA9PSIzIjoKCQl5YWhvb21lbWJlcigpCgllbGlmIGdvID09IjQiOgoJCXlhaG9vbGlzdCgpCgllbGlmIGdvID09IjAiOgoJCW1lbnVfaGFjaygpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIgoJCXlhaG9vX3BpbGloKCkKCQkKIyMjIyMgTElTVCBGUklFTkQgIyMjIyMKZGVmIHlhaG9vZnJpZW5kcygpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCW1wc2ggPSBbXQoJam1sID0gMAoJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0dGluZyBlbWFpbCBmcmllbmQgXDAzM1sxOzk3bS4uLicpCgl0ZW1hbiA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCWtpbWFrID0ganNvbi5sb2Fkcyh0ZW1hbi50ZXh0KQoJc2F2ZSA9IG9wZW4oJ291dC9NYWlsVnVsbi50eHQnLCd3JykKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgdyBpbiBraW1ha1snZGF0YSddOgoJCWptbCArPTEKCQltcHNoLmFwcGVuZChqbWwpCgkJaWQgPSB3WydpZCddCgkJbmFtYSA9IHdbJ25hbWUnXQoJCWxpbmtzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMobGlua3MudGV4dCkKCQl0cnk6CgkJCW1haWwgPSB6WydlbWFpbCddCgkJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpCgkJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJCWlmICd5YWhvby5jb20nIGluIG90dzoKCQkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikKCQkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCQlici5zZWxlY3RfZm9ybShucj0wKQoJCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsCgkJCQlrbGlrID0gYnIuc3VibWl0KCkucmVhZCgpCgkJCQlqb2sgPSByZS5jb21waWxlKHInIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPi4qJykKCQkJCXRyeToKCQkJCQlwZWsgPSBqb2suc2VhcmNoKGtsaWspLmdyb3VwKCkKCQkJCWV4Y2VwdDoKCQkJCQljb250aW51ZQoJCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKCQkJCQlzYXZlLndyaXRlKG1haWwgKyAnXG4nKQoJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtVlVMTuKck1wwMzNbMTs5N20gXSBcMDMzWzE7OTJtIiArbWFpbCsiIFwwMzNbMTs5N209PiIrbmFtYSkKCQkJCQliZXJoYXNpbC5hcHBlbmQobWFpbCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXBhc3MKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihiZXJoYXNpbCkpCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvTWFpbFZ1bG4udHh0IgoJc2F2ZS5jbG9zZSgpCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJbWVudV95YWhvbygpCgojIyMjIyBDTE9ORSBGUk9NIEZSSUVORCAjIyMjIwpkZWYgeWFob29mcm9tZnJpZW5kcygpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCW1wc2ggPSBbXQoJam1sID0gMAoJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBmcmllbmQgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpCgl0cnk6CgkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBGcmllbmQgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV95YWhvbygpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1HZXR0aW5nIGVtYWlsIGZyb20gZnJpZW5kIFwwMzNbMTs5N20uLi4nKQoJdGVtYW4gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWR0KycvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCWtpbWFrID0ganNvbi5sb2Fkcyh0ZW1hbi50ZXh0KQoJc2F2ZSA9IG9wZW4oJ291dC9GcmllbmRNYWlsVnVsbi50eHQnLCd3JykKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgdyBpbiBraW1ha1snZGF0YSddOgoJCWptbCArPTEKCQltcHNoLmFwcGVuZChqbWwpCgkJaWQgPSB3WydpZCddCgkJbmFtYSA9IHdbJ25hbWUnXQoJCWxpbmtzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkKyI/YWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJeiA9IGpzb24ubG9hZHMobGlua3MudGV4dCkKCQl0cnk6CgkJCW1haWwgPSB6WydlbWFpbCddCgkJCXlhaG9vID0gcmUuY29tcGlsZShyJ0AuKicpCgkJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJCWlmICd5YWhvby5jb20nIGluIG90dzoKCQkJCWJyLm9wZW4oImh0dHBzOi8vbG9naW4ueWFob28uY29tL2NvbmZpZy9sb2dpbj8uc3JjPWZwY3R4Ji5pbnRsPWlkJi5sYW5nPWlkLUlEJi5kb25lPWh0dHBzOi8vaWQueWFob28uY29tIikKCQkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCQlici5zZWxlY3RfZm9ybShucj0wKQoJCQkJYnJbInVzZXJuYW1lIl0gPSBtYWlsCgkJCQlrbGlrID0gYnIuc3VibWl0KCkucmVhZCgpCgkJCQlqb2sgPSByZS5jb21waWxlKHInIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPi4qJykKCQkJCXRyeToKCQkJCQlwZWsgPSBqb2suc2VhcmNoKGtsaWspLmdyb3VwKCkKCQkJCWV4Y2VwdDoKCQkJCQljb250aW51ZQoJCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKCQkJCQlzYXZlLndyaXRlKG1haWwgKyAnXG4nKQoJCQkJCXByaW50KCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtVlVMTuKck1wwMzNbMTs5N20gXSBcMDMzWzE7OTJtIiArbWFpbCsiIFwwMzNbMTs5N209PiIrbmFtYSkKCQkJCQliZXJoYXNpbC5hcHBlbmQobWFpbCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXBhc3MKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQgJ1wwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Eb25lIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihiZXJoYXNpbCkpCglwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHNhdmVkIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvRnJpZW5kTWFpbFZ1bG4udHh0IgoJc2F2ZS5jbG9zZSgpCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJbWVudV95YWhvbygpCgkKIyMjIyMgWUFIT08gTUVNQkVSICMjIyMjCmRlZiB5YWhvb21lbWJlcigpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCW1wc2ggPSBbXQoJam1sID0gMAoJaWQ9cmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJykKCXRyeToKCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWQrJyZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhc3c9anNvbi5sb2FkcyhyLnRleHQpCgkJcHJpbnQiXDAzM1sxOzkxbVtcMDMzWzE7OTZt4pyTXDAzM1sxOzkxbV0gXDAzM1sxOzkybUZyb20gZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfeWFob28oKQoJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtR2V0dGluZyBlbWFpbCBmcm9tIGdyb3VwIFwwMzNbMTs5N20uLi4nKQoJdGVtYW4gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCWtpbWFrID0ganNvbi5sb2Fkcyh0ZW1hbi50ZXh0KQoJc2F2ZSA9IG9wZW4oJ291dC9HcnVwTWFpbFZ1bG4udHh0JywndycpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJZm9yIHcgaW4ga2ltYWtbJ2RhdGEnXToKCQlqbWwgKz0xCgkJbXBzaC5hcHBlbmQoam1sKQoJCWlkID0gd1snaWQnXQoJCW5hbWEgPSB3WyduYW1lJ10KCQlsaW5rcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKGxpbmtzLnRleHQpCgkJdHJ5OgoJCQltYWlsID0gelsnZW1haWwnXQoJCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCQlvdHcgPSB5YWhvby5zZWFyY2gobWFpbCkuZ3JvdXAoKQoJCQlpZiAneWFob28uY29tJyBpbiBvdHc6CgkJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCQkJYnIuc2VsZWN0X2Zvcm0obnI9MCkKCQkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQkJa2xpayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQkJam9rID0gcmUuY29tcGlsZShyJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4uKicpCgkJCQl0cnk6CgkJCQkJcGVrID0gam9rLnNlYXJjaChrbGlrKS5ncm91cCgpCgkJCQlleGNlcHQ6CgkJCQkJY29udGludWUKCQkJCWlmICcibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+JyBpbiBwZWs6CgkJCQkJc2F2ZS53cml0ZShtYWlsICsgJ1xuJykKCQkJCQlwcmludCgiXDAzM1sxOzk3bVsgXDAzM1sxOzkybVZVTE7inJNcMDMzWzE7OTdtIF0gXDAzM1sxOzkybSIgK21haWwrIiBcMDMzWzE7OTdtPT4iK25hbWEpCgkJCQkJYmVyaGFzaWwuYXBwZW5kKG1haWwpCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwYXNzCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRG9uZSBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3N0cihsZW4oYmVyaGFzaWwpKQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L0dydXBNYWlsVnVsbi50eHQiCglzYXZlLmNsb3NlKCkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X3lhaG9vKCkKCQkKIyMjIyMgWUFIT08gRklMRSAjIyMjIwpkZWYgeWFob29saXN0KCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJZmlsZXMgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZpbGUgcGF0aCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCXRyeToKCQl0b3RhbCA9IG9wZW4oZmlsZXMsInIiKQoJCW1haWwgPSB0b3RhbC5yZWFkbGluZXMoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBGaWxlIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfeWFob28oKQoJbXBzaCA9IFtdCglqbWwgPSAwCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXNhdmUgPSBvcGVuKCdvdXQvRmlsZU1haWxWdWxuLnR4dCcsJ3cnKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgltYWlsID0gb3BlbihmaWxlcywiciIpLnJlYWRsaW5lcygpCglmb3IgcHcgaW4gbWFpbDoKCQltYWlsID0gcHcucmVwbGFjZSgiXG4iLCIiKQoJCWptbCArPTEKCQltcHNoLmFwcGVuZChqbWwpCgkJeWFob28gPSByZS5jb21waWxlKHInQC4qJykKCQlvdHcgPSB5YWhvby5zZWFyY2gobWFpbCkuZ3JvdXAoKQoJCWlmICd5YWhvby5jb20nIGluIG90dzoKCQkJYnIub3BlbigiaHR0cHM6Ly9sb2dpbi55YWhvby5jb20vY29uZmlnL2xvZ2luPy5zcmM9ZnBjdHgmLmludGw9aWQmLmxhbmc9aWQtSUQmLmRvbmU9aHR0cHM6Ly9pZC55YWhvby5jb20iKQoJCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCQlici5zZWxlY3RfZm9ybShucj0wKQoJCQliclsidXNlcm5hbWUiXSA9IG1haWwKCQkJa2xpayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQlqb2sgPSByZS5jb21waWxlKHInIm1lc3NhZ2VzLkVSUk9SX0lOVkFMSURfVVNFUk5BTUUiPi4qJykKCQkJdHJ5OgoJCQkJcGVrID0gam9rLnNlYXJjaChrbGlrKS5ncm91cCgpCgkJCWV4Y2VwdDoKCQkJCWNvbnRpbnVlCgkJCWlmICcibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+JyBpbiBwZWs6CgkJCQlzYXZlLndyaXRlKG1haWwgKyAnXG4nKQoJCQkJcHJpbnQoIlwwMzNbMTs5N21bIFwwMzNbMTs5Mm1WVUxO4pyTXDAzM1sxOzk3bSBdIFwwMzNbMTs5Mm0iICttYWlsKQoJCQkJYmVyaGFzaWwuYXBwZW5kKG1haWwpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRG9uZSBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3N0cihsZW4oYmVyaGFzaWwpKQoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRmlsZSBzYXZlZCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L0ZpbGVNYWlsVnVsbi50eHQiCglzYXZlLmNsb3NlKCkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X3lhaG9vKCkKCQoKCQkKIyMjIyMgTUVOVSBCT1QgIyMjIyMKIy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jCmRlZiBtZW51X2JvdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuXDAzM1sxOzk3bSBCb3QgUmVhY3Rpb25zIFRhcmdldCBQb3N0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gQm90IFJlYWN0aW9ucyBHcnVwIFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBCb3QgS29tZW4gVGFyZ2V0IFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBCb3QgS29tZW4gR3J1cCBQb3N0IgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LlwwMzNbMTs5N20gTWFzcyBkZWxldGUgUG9zdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNi5cMDMzWzE7OTdtIE1hc3MgYWNjZXB0IGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNy5cMDMzWzE7OTdtIE1hc3MgZGVsZXRlIGZyaWVuZCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTFtMC5cMDMzWzE7OTdtIEJhY2siCglwcmludCAi4pWRIgoJYm90X3BpbGloKCkKIy8vLy8vLy8vLy8vLwpkZWYgYm90X3BpbGloKCk6Cglib3RzID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBib3RzID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJYm90X3BpbGloKCkKCWVsaWYgYm90cyA9PSIxIjoKCQltZW51X3JlYWN0KCkKCWVsaWYgYm90cyA9PSIyIjoKCQlncnVwX3JlYWN0KCkKCWVsaWYgYm90cyA9PSIzIjoKCQlib3Rfa29tZW4oKQoJZWxpZiBib3RzID09IjQiOgoJCWdydXBfa29tZW4oKQoJZWxpZiBib3RzID09IjUiOgoJCWRlbGV0ZXBvc3QoKQoJZWxpZiBib3RzID09IjYiOgoJCWFjY2VwdCgpCgllbGlmIGJvdHMgPT0iNyI6CgkJdW5mcmllbmQoKQoJZWxpZiBib3RzID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlib3RfcGlsaWgoKQoJCQojIyMjIyBNRU5VIFJFQUNUICMjIyMjCmRlZiBtZW51X3JlYWN0KCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTEuIFwwMzNbMTs5N21MaWtlIikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuIFwwMzNbMTs5N21Mb3ZlIikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuIFwwMzNbMTs5N21Xb3ciKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNC4gXDAzM1sxOzk3bUhhaGEiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNS4gXDAzM1sxOzk3bVNhZEJveSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm02LiBcMDMzWzE7OTdtQW5ncnkiKQoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglyZWFjdF9waWxpaCgpCiMvLy8vLy8vLy8vLy8vLwpkZWYgcmVhY3RfcGlsaWgoKToKCWdsb2JhbCB0aXBlCglha3NpID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBha3NpID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gV3JvbmcgaW5wdXQiCgkJcmVhY3RfcGlsaWgoKQoJZWxpZiBha3NpID09IjEiOgoJCXRpcGUgPSAiTElLRSIKCQlyZWFjdCgpCgllbGlmIGFrc2kgPT0iMiI6CgkJdGlwZSA9ICJMT1ZFIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSIzIjoKCQl0aXBlID0gIldPVyIKCQlyZWFjdCgpCgllbGlmIGFrc2kgPT0iNCI6CgkJdGlwZSA9ICJIQUhBIgoJCXJlYWN0KCkKCWVsaWYgYWtzaSA9PSI1IjoKCQl0aXBlID0gIlNBRCIKCQlyZWFjdCgpCgllbGlmIGFrc2kgPT0iNiI6CgkJdGlwZSA9ICJBTkdSWSIKCQlyZWFjdCgpCgllbGlmIGFrc2kgPT0iMCI6CgkJbWVudV9ib3QoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlyZWFjdF9waWxpaCgpCiMjIyMjTkVYVApkZWYgcmVhY3QoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJaWRlID0gcmF3X2lucHV0KCdcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1JbnB1dCBJRCBUYXJnZXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgl0cnk6CgkJb2ggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWRlKyI/ZmllbGRzPWZlZWQubGltaXQoIitsaW1pdCsiKSZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQlhaCA9IGpzb24ubG9hZHMob2gudGV4dCkKCQlqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlmb3IgYSBpbiBhaFsnZmVlZCddWydkYXRhJ106CgkJCXkgPSBhWydpZCddCgkJCXJlYWtzaS5hcHBlbmQoeSkKCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit5KyIvcmVhY3Rpb25zP3R5cGU9Iit0aXBlKyImYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK3lbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uIFwwMzNbMTs5Mm1dIFwwMzNbMTs5N20nK3RpcGUKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4ocmVha3NpKSkKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIElEIG5vdCBmb3VuZCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCQkKIyMjIyMgQk9UIFJFQUNUIEdSVVAgIyMjIyMKZGVmIGdydXBfcmVhY3QoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS4gXDAzM1sxOzk3bUxpa2UiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMi4gXDAzM1sxOzk3bUxvdmUiKQoJcHJpbnQgKCJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMy4gXDAzM1sxOzk3bVdvdyIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm00LiBcMDMzWzE7OTdtSGFoYSIpCglwcmludCAoIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm01LiBcMDMzWzE7OTdtU2FkQm95IikKCXByaW50ICgiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTYuIFwwMzNbMTs5N21BbmdyeSIpCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIgoJcHJpbnQgIuKVkSIKCXJlYWN0Z19waWxpaCgpCiMvLy8vLy8vLy8vLy8vLwpkZWYgcmVhY3RnX3BpbGloKCk6CglnbG9iYWwgdGlwZQoJYWtzaSA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgYWtzaSA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXJlYWN0Z19waWxpaCgpCgllbGlmIGFrc2kgPT0iMSI6CgkJdGlwZSA9ICJMSUtFIgoJCXJlYWN0ZygpCgllbGlmIGFrc2kgPT0iMiI6CgkJdGlwZSA9ICJMT1ZFIgoJCXJlYWN0ZygpCgllbGlmIGFrc2kgPT0iMyI6CgkJdGlwZSA9ICJXT1ciCgkJcmVhY3RnKCkKCWVsaWYgYWtzaSA9PSI0IjoKCQl0aXBlID0gIkhBSEEiCgkJcmVhY3RnKCkKCWVsaWYgYWtzaSA9PSI1IjoKCQl0aXBlID0gIlNBRCIKCQlyZWFjdGcoKQoJZWxpZiBha3NpID09IjYiOgoJCXRpcGUgPSAiQU5HUlkiCgkJcmVhY3RnKCkKCWVsaWYgYWtzaSA9PSIwIjoKCQltZW51X2JvdCgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIFdyb25nIGlucHV0IgoJCXJlYWN0Z19waWxpaCgpCiMjIyMjTkVYVApkZWYgcmVhY3RnKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCWlkZSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSW5wdXQgSUQgR3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgl0cnk6CgkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkZSsnJmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtRnJvbSBncm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gIithc3dbJ25hbWUnXQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gR3JvdXAgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJZ3J1cF9yZWFjdCgpCgl0cnk6CgkJb2ggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3YzLjAvIitpZGUrIj9maWVsZHM9ZmVlZC5saW1pdCgiK2xpbWl0KyIpJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCWFoID0ganNvbi5sb2FkcyhvaC50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBhIGluIGFoWydmZWVkJ11bJ2RhdGEnXToKCQkJeSA9IGFbJ2lkJ10KCQkJcmVha3NpZ3J1cC5hcHBlbmQoeSkKCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIit5KyIvcmVhY3Rpb25zP3R5cGU9Iit0aXBlKyImYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK3lbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uIFwwMzNbMTs5Mm1dIFwwMzNbMTs5N20nK3RpcGUKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4ocmVha3NpZ3J1cCkpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBJRCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCgkKIyMjIyMgQk9UIEtPTUVOICMjIyMjCmRlZiBib3Rfa29tZW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkybVVzZSBcMDMzWzE7OTdtJzw+JyBcMDMzWzE7OTJtZm9yIG5ldyBsaW5lcyIKCWlkZSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSUQgVGFyZ2V0IFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJa20gPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUNvbW1lbnQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglrbT1rbS5yZXBsYWNlKCc8PicsJ1xuJykKCXRyeToKCQlwID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkZSsiP2ZpZWxkcz1mZWVkLmxpbWl0KCIrbGltaXQrIikmYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMocC50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBzIGluIGFbJ2ZlZWQnXVsnZGF0YSddOgoJCQlmID0gc1snaWQnXQoJCQlrb21lbi5hcHBlbmQoZikKCQkJcmVxdWVzdHMucG9zdCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitmKyIvY29tbWVudHM/bWVzc2FnZT0iK2ttKyImYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJCXByaW50ICdcMDMzWzE7OTJtW1wwMzNbMTs5N20nK2ttWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLiBcMDMzWzE7OTJtXScKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCAiXHJcMDMzWzE7OTFtWytdXDAzM1sxOzkybSBEb25lIFwwMzNbMTs5N20iK3N0cihsZW4oa29tZW4pKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJZXhjZXB0IEtleUVycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gSUQgbm90IGZvdW5kIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoKIyMjIyMgQk9UIEtPTUVOIEdSVVAgIyMjIyMKZGVmIGdydXBfa29tZW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bIV0gXDAzM1sxOzkybVVzZSBcMDMzWzE7OTdtJzw+JyBcMDMzWzE7OTJtZm9yIG5ldyBsaW5lcyIKCWlkZSA9IHJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtSUQgR3JvdXAgIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAnKQoJa20gPSByYXdfaW5wdXQoJ1wwMzNbMTs5MW1bK10gXDAzM1sxOzkybUNvbW1lbnQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglrbT1rbS5yZXBsYWNlKCc8PicsJ1xuJykKCXRyeToKCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRlKycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCXByaW50IlwwMzNbMTs5MW1bXDAzM1sxOzk2beKck1wwMzNbMTs5MW1dIFwwMzNbMTs5Mm1Gcm9tIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBHcm91cCBub3QgZm91bmQiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCgl0cnk6CgkJcCA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjMuMC8iK2lkZSsiP2ZpZWxkcz1mZWVkLmxpbWl0KCIrbGltaXQrIikmYWNjZXNzX3Rva2VuPSIrdG9rZXQpCgkJYSA9IGpzb24ubG9hZHMocC50ZXh0KQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWZvciBzIGluIGFbJ2ZlZWQnXVsnZGF0YSddOgoJCQlmID0gc1snaWQnXQoJCQlrb21lbmdydXAuYXBwZW5kKGYpCgkJCXJlcXVlc3RzLnBvc3QoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIrZisiL2NvbW1lbnRzP21lc3NhZ2U9IitrbSsiJmFjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlwcmludCAnXDAzM1sxOzkybVtcMDMzWzE7OTdtJytrbVs6MTBdLnJlcGxhY2UoJ1xuJywnICcpKycuLi4gXDAzM1sxOzkybV0nCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQgIlxyXDAzM1sxOzkxbVsrXVwwMzNbMTs5Mm0gRG9uZSBcMDMzWzE7OTdtIitzdHIobGVuKGtvbWVuZ3J1cCkpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQltZW51X2JvdCgpCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBFcnJvciIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCQkKIyMjIyMgSEFQVVMgUE9TVCAjIyMjIwpkZWYgZGVsZXRlcG9zdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJCW5hbSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJbG9sID0ganNvbi5sb2FkcyhuYW0udGV4dCkKCQluYW1hID0gbG9sWyduYW1lJ10KCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybUZyb20gXDAzM1sxOzkxbTogXDAzM1sxOzk3bSVzIiVuYW1hKQoJamFsYW4oIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVN0YXJ0XDAzM1sxOzk3bSAuLi4iKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglhc3UgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZlZWQ/YWNjZXNzX3Rva2VuPScrdG9rZXQpCglhc3VzID0ganNvbi5sb2Fkcyhhc3UudGV4dCkKCWZvciBwIGluIGFzdXNbJ2RhdGEnXToKCQlpZCA9IHBbJ2lkJ10KCQlwaXJvID0gMAoJCXVybCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJytpZCsnP21ldGhvZD1kZWxldGUmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJb2sgPSBqc29uLmxvYWRzKHVybC50ZXh0KQoJCXRyeToKCQkJZXJyb3IgPSBva1snZXJyb3InXVsnbWVzc2FnZSddCgkJCXByaW50ICdcMDMzWzE7OTFtW1wwMzNbMTs5N20nK2lkWzoxMF0ucmVwbGFjZSgnXG4nLCcgJykrJy4uLicrJ1wwMzNbMTs5MW1dIFwwMzNbMTs5NW1GYWlsZWQnCgkJZXhjZXB0IFR5cGVFcnJvcjoKCQkJcHJpbnQgJ1wwMzNbMTs5Mm1bXDAzM1sxOzk3bScraWRbOjEwXS5yZXBsYWNlKCdcbicsJyAnKSsnLi4uJysnXDAzM1sxOzkybV0gXDAzM1sxOzk2bURlbGV0ZWQnCgkJCXBpcm8gKz0gMQoJCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQkJcHJpbnQiXDAzM1sxOzkxbVshXSBDb25uZWN0aW9uIEVycm9yIgoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCQltZW51X2JvdCgpCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybURvbmUiCglyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJbWVudV9ib3QoKQoJCiMjIyMjIEFDQ0VQVCBGUklFTkQgIyMjIyMKZGVmIGFjY2VwdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJb3Muc3lzdGVtKCdyZXNldCcpCglwcmludCBsb2dvCglsaW1pdCA9IHJhd19pbnB1dCgiXDAzM1sxOzkxbVshXSBcMDMzWzE7OTJtTGltaXQgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRyZXF1ZXN0cz9saW1pdD0nK2xpbWl0KycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgl0ZW1hbiA9IGpzb24ubG9hZHMoci50ZXh0KQoJaWYgJ1tdJyBpbiBzdHIodGVtYW5bJ2RhdGEnXSk6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBObyBmcmllbmQgcmVxdWVzdCIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCW1lbnVfYm90KCkKCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCglmb3IgaSBpbiB0ZW1hblsnZGF0YSddOgoJCWdhcyA9IHJlcXVlc3RzLnBvc3QoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHMvJytpWydmcm9tJ11bJ2lkJ10rJz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlhID0ganNvbi5sb2FkcyhnYXMudGV4dCkKCQlpZiAnZXJyb3InIGluIHN0cihhKToKCQkJcHJpbnQgIlwwMzNbMTs5N21bIFwwMzNbMTs5MW1GYWlsZWRcMDMzWzE7OTdtIF0gIitpWydmcm9tJ11bJ25hbWUnXQoJCWVsc2U6CgkJCXByaW50ICJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtQWNjZXB0XDAzM1sxOzk3bSBdICIraVsnZnJvbSddWyduYW1lJ10KCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJcHJpbnQiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtRG9uZSIKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgltZW51X2JvdCgpCgkKIyMjIyMgVU5GUklFTkQgIyMjIwpkZWYgdW5mcmllbmQoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCAiXDAzM1sxOzk3bVN0b3AgXDAzM1sxOzkxbUNUUkwrQyIKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJdHJ5OgoJCXBlayA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQljb2sgPSBqc29uLmxvYWRzKHBlay50ZXh0KQoJCWZvciBpIGluIGNva1snZGF0YSddOgoJCQluYW1hID0gaVsnbmFtZSddCgkJCWlkID0gaVsnaWQnXQoJCQlyZXF1ZXN0cy5kZWxldGUoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/dWlkPSIraWQrIiZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQkJcHJpbnQgIlwwMzNbMTs5N21bXDAzM1sxOzkybSBEZWxldGVkIFwwMzNbMTs5N21dICIrbmFtYQoJZXhjZXB0IEluZGV4RXJyb3I6IHBhc3MKCWV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBTdG9wcGVkIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbWVudV9ib3QoKQoJcHJpbnQiXG5cMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Eb25lIgoJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCW1lbnVfYm90KCkKCQojIyMjIExBSU4gTEFJTiAjIyMjIwojICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIwojIyMjTUVOVSBMQUlOIyMjIyMKZGVmIGxhaW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0xLlwwMzNbMTs5N20gQ3JlYXRlIFBvc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTIuXDAzM1sxOzk3bSBDcmVhdGUgV29yZGxpc3QiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTMuXDAzM1sxOzk3bSBBY2NvdW50IENoZWNrZXIiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkybTQuXDAzM1sxOzk3bSBTZWUgbXkgZ3JvdXAgbGlzdCIKCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtNS5cMDMzWzE7OTdtIFByb2ZpbGUgR3VhcmQiCglwcmludCAiXDAzM1sxOzk3beKVkS0tXDAzM1sxOzkxbT4gXDAzM1sxOzkxbTAuXDAzM1sxOzk3bSBCYWNrIgoJcHJpbnQgIuKVkSIKCXBpbGloX2xhaW4oKQojLy8vLy8vLy8vLy8vCmRlZiBwaWxpaF9sYWluKCk6CglvdGhlciA9IHJhd19pbnB1dCgiXDAzM1sxOzk3beKVmuKVkFwwMzNbMTs5MW1EIFwwMzNbMTs5N20iKQoJaWYgb3RoZXIgPT0iIjoKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlwaWxpaF9sYWluKCkKCWVsaWYgb3RoZXIgPT0iMSI6CgkJc3RhdHVzKCkKCWVsaWYgb3RoZXIgPT0iMiI6CgkJd29yZGxpc3QoKQoJZWxpZiBvdGhlciA9PSIzIjoKCQljaGVja19ha3VuKCkKCWVsaWYgb3RoZXIgPT0iNCI6CgkJZ3J1cHNheWEoKQoJZWxpZiBvdGhlciA9PSI1IjoKCQlndWFyZCgpCgllbGlmIG90aGVyID09IjAiOgoJCW1lbnUoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzkxbVshXSBXcm9uZyBpbnB1dCIKCQlwaWxpaF9sYWluKCkKCQkKIyMjIyMgU1RBVFVTICMjIyMjCmRlZiBzdGF0dXMoKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJbXNnPXJhd19pbnB1dCgnXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVHlwZSBzdGF0dXMgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCglpZiBtc2cgPT0gIiI6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gRG9uJ3QgYmUgZW1wdHkiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWVsc2U6CgkJcmVzID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mZWVkP21ldGhvZD1QT1NUJm1lc3NhZ2U9Iittc2crIiZhY2Nlc3NfdG9rZW49Iit0b2tldCkKCQlvcCA9IGpzb24ubG9hZHMocmVzLnRleHQpCgkJamFsYW4oJ1wwMzNbMTs5MW1b4py6XSBcMDMzWzE7OTJtQ3JlYXRlIFwwMzNbMTs5N20uLi4nKQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVN0YXR1cyBJRFwwMzNbMTs5MW0gOiBcMDMzWzE7OTdtIitvcFsnaWQnXQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCgkJCiMjIyMjIyMjIyMjIENSRUFURSBXT1JETElTVCAjIyMjIyMjIyMjCmRlZiB3b3JkbGlzdCgpOgoJb3Muc3lzdGVtKCdyZXNldCcpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzkxbVshXSBUb2tlbiBub3QgZm91bmQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW4oKQoJdHJ5OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlwcmludCAiXDAzM1sxOzkxbVs/XSBcMDMzWzE7OTJtRmlsbCBpbiB0aGUgY29tcGxldGUgZGF0YSBvZiB0aGUgdGFyZ2V0IGJlbG93IgoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCWEgPSByYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybU5hbWEgRGVwYW4gXDAzM1sxOzk3bTogIikKCQlmaWxlID0gb3BlbihhKyIudHh0IiwgJ3cnKQoJCWI9cmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1OYW1hIFRlbmdhaCBcMDMzWzE7OTdtOiAiKQoJCWM9cmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1OYW1hIEJlbGFrYW5nIFwwMzNbMTs5N206ICIpCgkJZD1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybU5hbWEgUGFuZ2dpbGFuIFwwMzNbMTs5N206ICIpCgkJZT1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRhbmdnYWwgTGFoaXIgPlwwMzNbMTs5Nm1leDogfERETU1ZWXwgXDAzM1sxOzk3bTogIikKCQlmPWVbMDoyXQoJCWc9ZVsyOjRdCgkJaD1lWzQ6XQoJCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJCXByaW50KCJcMDMzWzE7OTFtWz9dIFwwMzNbMTs5M21LYWxvIEpvbWJsbyBTS0lQIGFqYSA6diIpCgkJaT1yYXdfaW5wdXQoIlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybU5hbWEgUGFjYXIgXDAzM1sxOzk3bTogIikKCQlqPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtTmFtYSBQYW5nZ2lsYW4gUGFjYXIgXDAzM1sxOzk3bTogIikKCQlrPXJhd19pbnB1dCgiXDAzM1sxOzkxbVsrXSBcMDMzWzE7OTJtVGFuZ2dhbCBMYWhpciBQYWNhciA+XDAzM1sxOzk2bWV4OiB8RERNTVlZfCBcMDMzWzE7OTdtOiAiKQoJCWphbGFuKCdcMDMzWzE7OTFtW+Kcul0gXDAzM1sxOzkybUNyZWF0ZSBcMDMzWzE7OTdtLi4uJykKCQlsPWtbMDoyXQoJCW09a1syOjRdCgkJbj1rWzQ6XQoJCWZpbGUud3JpdGUoIiVzJXNcbiVzJXMlcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXMlc1xuJXMlcyVzXG4lcyVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXNcbiVzJXMiICUgKGEsYyxhLGIsYixhLGIsYyxjLGEsYyxiLGEsYSxiLGIsYyxjLGEsZCxiLGQsYyxkLGQsZCxkLGEsZCxiLGQsYyxhLGUsYSxmLGEsZyxhLGgsYixlLGIsZixiLGcsYixoLGMsZSxjLGYsYyxnLGMsaCxkLGUsZCxmLGQsZyxkLGgsZSxhLGYsYSxnLGEsaCxhLGUsYixmLGIsZyxiLGgsYixlLGMsZixjLGcsYyxoLGMsZSxkLGYsZCxnLGQsaCxkLGQsZCxhLGYsZyxhLGcsaCxmLGcsZixoLGYsZixnLGYsZyxoLGcsZyxoLGYsaCxnLGgsaCxoLGcsZixhLGcsaCxiLGYsZyxiLGcsaCxjLGYsZyxjLGcsaCxkLGYsZyxkLGcsaCxhLGksYSxqLGEsayxpLGUsaSxqLGksayxiLGksYixqLGIsayxjLGksYyxqLGMsayxlLGssaixhLGosYixqLGMsaixkLGosaixrLGEsayxiLGssYyxrLGQsayxrLGksbCxpLG0saSxuLGosbCxqLG0saixuLGosaykpCgkJd2cgPSAwCgkJd2hpbGUgKHdnIDwgMTAwKToKCQkJd2cgPSB3ZyArIDEKCQkJZmlsZS53cml0ZShhICsgc3RyKHdnKSArICdcbicpCgkJZW4gPSAwCgkJd2hpbGUgKGVuIDwgMTAwKToKCQkJZW4gPSBlbiArIDEKCQkJZmlsZS53cml0ZShpICsgc3RyKGVuKSArICdcbicpCgkJd29yZCA9IDAKCQl3aGlsZSAod29yZCA8IDEwMCk6CgkJCXdvcmQgPSB3b3JkICsgMQoJCQlmaWxlLndyaXRlKGQgKyBzdHIod29yZCkgKyAnXG4nKQoJCWdlbiA9IDAKCQl3aGlsZSAoZ2VuIDwgMTAwKToKCQkJZ2VuID0gZ2VuICsgMQoJCQlmaWxlLndyaXRlKGogKyBzdHIoZ2VuKSArICdcbicpCgkJZmlsZS5jbG9zZSgpCgkJdGltZS5zbGVlcCgxLjUpCgkJcHJpbnQgNDIqIlwwMzNbMTs5N23ilZAiCgkJcHJpbnQgKCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtICVzLnR4dCIgJWEpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWV4Y2VwdCBJT0Vycm9yLCBlOgoJCXByaW50KCJcMDMzWzE7OTFtWyFdIEZhaWxlZCIpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCiMjIyMjIENIRUNLRVIgIyMjIyMKZGVmIGNoZWNrX2FrdW4oKToKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gbm90IGZvdW5kIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCW9zLnN5c3RlbSgncmVzZXQnKQoJcHJpbnQgbG9nbwoJcHJpbnQgIlwwMzNbMTs5MW1bP10gXDAzM1sxOzkybUNyZWF0ZSBpbiBmaWxlXDAzM1sxOzkxbSA6IFwwMzNbMTs5N211c2VybmFtZXxwYXNzd29yZCIKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJbGl2ZSA9IFtdCgljZWsgPSBbXQoJZGllID0gW10KCXRyeToKCQlmaWxlID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1GaWxlIHBhdGggXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCgkJbGlzdCA9IG9wZW4oZmlsZSwncicpLnJlYWRsaW5lcygpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCAoIlwwMzNbMTs5MW1bIV0gRmlsZSBub3QgZm91bmQiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCglwZW1pc2FoID0gcmF3X2lucHV0KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TZXBhcmF0b3IgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIpCglqYWxhbignXDAzM1sxOzkxbVvinLpdIFwwMzNbMTs5Mm1TdGFydCBcMDMzWzE7OTdtLi4uJykKCXByaW50IDQyKiJcMDMzWzE7OTdt4pWQIgoJZm9yIG1la2kgaW4gbGlzdDoKCQl1c2VybmFtZSwgcGFzc3dvcmQgPSAobWVraS5zdHJpcCgpKS5zcGxpdChzdHIocGVtaXNhaCkpCgkJdXJsID0gImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VybmFtZSkrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzc3dvcmQpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiCgkJZGF0YSA9IHJlcXVlc3RzLmdldCh1cmwpCgkJbXBzaCA9IGpzb24ubG9hZHMoZGF0YS50ZXh0KQoJCWlmICdhY2Nlc3NfdG9rZW4nIGluIG1wc2g6CgkJCWxpdmUuYXBwZW5kKHBhc3N3b3JkKQoJCQlwcmludCJcMDMzWzE7OTdtWyBcMDMzWzE7OTJtTGl2ZVwwMzNbMTs5N20gXSBcMDMzWzE7OTdtIit1c2VybmFtZSsifCIrcGFzc3dvcmQKCQllbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBtcHNoWyJlcnJvcl9tc2ciXToKCQkJY2VrLmFwcGVuZChwYXNzd29yZCkKCQkJcHJpbnQiXDAzM1sxOzk3bVsgXDAzM1sxOzkzbUNoZWNrXDAzM1sxOzk3bSBdIFwwMzNbMTs5N20iK3VzZXJuYW1lKyJ8IitwYXNzd29yZAoJCWVsc2U6CgkJCWRpZS5hcHBlbmQocGFzc3dvcmQpCgkJCXByaW50IlwwMzNbMTs5N21bIFwwMzNbMTs5MW1EaWVcMDMzWzE7OTdtIF0gXDAzM1sxOzk3bSIrdXNlcm5hbWUrInwiK3Bhc3N3b3JkCglwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCXByaW50IlwwMzNbMTs5MW1bK10gXDAzM1sxOzkybVRvdGFsXDAzM1sxOzkxbSA6IFwwMzNbMTs5N21MaXZlPVwwMzNbMTs5Mm0iK3N0cihsZW4obGl2ZSkpKyIgXDAzM1sxOzk3bUNoZWNrPVwwMzNbMTs5M20iK3N0cihsZW4oY2VrKSkrIiBcMDMzWzE7OTdtRGllPVwwMzNbMTs5MW0iK3N0cihsZW4oZGllKSkKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCglsYWluKCkKCQojIyMjIyBHUlVQIFNBWUEgIyMjIyMKZGVmIGdydXBzYXlhKCk6Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCgl0cnk6CgkJb3MubWtkaXIoJ291dCcpCglleGNlcHQgT1NFcnJvcjoKCQlwYXNzCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXRyeToKCQl1aCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZ3JvdXBzP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWd1ZCA9IGpzb24ubG9hZHModWgudGV4dCkKCQlmb3IgcCBpbiBndWRbJ2RhdGEnXToKCQkJbmFtYSA9IHBbIm5hbWUiXQoJCQlpZCA9IHBbImlkIl0KCQkJZj1vcGVuKCdvdXQvR3J1cGlkLnR4dCcsJ3cnKQoJCQlsaXN0Z3J1cC5hcHBlbmQoaWQpCgkJCWYud3JpdGUoaWQgKyAnXG4nKQoJCQlwcmludCAiXDAzM1sxOzk3bVsgXDAzM1sxOzkybU15R3JvdXBcMDMzWzE7OTdtIF0gIitzdHIoaWQpKyIgPT4gIitzdHIobmFtYSkKCQlwcmludCA0MioiXDAzM1sxOzk3beKVkCIKCQlwcmludCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1Ub3RhbCBHcm91cCBcMDMzWzE7OTFtOlwwMzNbMTs5N20gJXMiJShsZW4obGlzdGdydXApKQoJCXByaW50KCJcMDMzWzE7OTFtWytdIFwwMzNbMTs5Mm1TYXZlZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtb3V0L0dydXBpZC50eHQiKQoJCWYuY2xvc2UoKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzkxbVshXSBTdG9wcGVkIikKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzkxbVsgXDAzM1sxOzk3bUJhY2sgXDAzM1sxOzkxbV0iKQoJCWxhaW4oKQoJZXhjZXB0IEtleUVycm9yOgoJCW9zLnJlbW92ZSgnb3V0L0dydXBpZC50eHQnKQoJCXByaW50KCdcMDMzWzE7OTFtWyFdIEdyb3VwIG5vdCBmb3VuZCcpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtW+Kcll0gTm8gQ29ubmVjdGlvbiIKCQlrZWx1YXIoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQgIlwwMzNbMTs5MW1bIV0gRXJyb3IiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCQkKIyMjIyMgUFJPRklMIEdVQVJEICMjIyMjCmRlZiBndWFyZCgpOgoJZ2xvYmFsIHRva2V0Cglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXRyeToKCQl0b2tldD1vcGVuKCdsb2dpbi50eHQnLCdyJykucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlwcmludCJcMDMzWzE7OTFtWyFdIFRva2VuIG5vdCBmb3VuZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlsb2dpbigpCglvcy5zeXN0ZW0oJ3Jlc2V0JykKCXByaW50IGxvZ28KCXByaW50ICJcMDMzWzE7OTdt4pWRLS1cMDMzWzE7OTFtPiBcMDMzWzE7OTJtMS5cMDMzWzE7OTdtIEFjdGl2YXRlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5Mm0yLlwwMzNbMTs5N20gTm90IGFjdGl2YXRlIgoJcHJpbnQgIlwwMzNbMTs5N23ilZEtLVwwMzNbMTs5MW0+IFwwMzNbMTs5MW0wLlwwMzNbMTs5N20gQmFjayIKCXByaW50ICLilZEiCglnID0gcmF3X2lucHV0KCJcMDMzWzE7OTdt4pWa4pWQXDAzM1sxOzkxbUQgXDAzM1sxOzk3bSIpCglpZiBnID09ICIxIjoKCQlha3RpZiA9ICJ0cnVlIgoJCWdheih0b2tldCwgYWt0aWYpCgllbGlmIGcgPT0gIjIiOgoJCW5vbiA9ICJmYWxzZSIKCQlnYXoodG9rZXQsIG5vbikKCWVsaWYgZyA9PSIwIjoKCQlsYWluKCkKCWVsaWYgZyA9PSIiOgoJCWtlbHVhcigpCgllbHNlOgoJCWtlbHVhcigpCgkKZGVmIGdldF91c2VyaWQodG9rZXQpOgoJdXJsID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0lcyIldG9rZXQKCXJlcyA9IHJlcXVlc3RzLmdldCh1cmwpCgl1aWQgPSBqc29uLmxvYWRzKHJlcy50ZXh0KQoJcmV0dXJuIHVpZFsiaWQiXQoJCQpkZWYgZ2F6KHRva2V0LCBlbmFibGUgPSBUcnVlKToKCWlkID0gZ2V0X3VzZXJpZCh0b2tldCkKCWRhdGEgPSAndmFyaWFibGVzPXsiMCI6eyJpc19zaGllbGRlZCI6ICVzLCJzZXNzaW9uX2lkIjoiOWI3ODE5MWMtODRmZC00YWI2LWIwYWEtMTliMzlmMDRhNmJjIiwiYWN0b3JfaWQiOiIlcyIsImNsaWVudF9tdXRhdGlvbl9pZCI6ImIwMzE2ZGQ2LTNmZDYtNGJlYi1hZWQ0LWJiMjljNWRjNjRiMCJ9fSZtZXRob2Q9cG9zdCZkb2NfaWQ9MTQ3NzA0MzI5MjM2NzE4MyZxdWVyeV9uYW1lPUlzU2hpZWxkZWRTZXRNdXRhdGlvbiZzdHJpcF9kZWZhdWx0cz10cnVlJnN0cmlwX251bGxzPXRydWUmbG9jYWxlPWVuX1VTJmNsaWVudF9jb3VudHJ5X2NvZGU9VVMmZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lPUlzU2hpZWxkZWRTZXRNdXRhdGlvbiZmYl9hcGlfY2FsbGVyX2NsYXNzPUlzU2hpZWxkZWRTZXRNdXRhdGlvbicgJSAoZW5hYmxlLCBzdHIoaWQpKQoJaGVhZGVycyA9IHsiQ29udGVudC1UeXBlIiA6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCAiQXV0aG9yaXphdGlvbiIgOiAiT0F1dGggJXMiICUgdG9rZXR9Cgl1cmwgPSAiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JhcGhxbCIKCXJlcyA9IHJlcXVlc3RzLnBvc3QodXJsLCBkYXRhID0gZGF0YSwgaGVhZGVycyA9IGhlYWRlcnMpCglwcmludChyZXMudGV4dCkKCWlmICciaXNfc2hpZWxkZWQiOnRydWUnIGluIHJlcy50ZXh0OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTJtQWN0aXZhdGUiCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5MW1bIFwwMzNbMTs5N21CYWNrIFwwMzNbMTs5MW1dIikKCQlsYWluKCkKCWVsaWYgJyJpc19zaGllbGRlZCI6ZmFsc2UnIGluIHJlcy50ZXh0OgoJCW9zLnN5c3RlbSgncmVzZXQnKQoJCXByaW50IGxvZ28KCQlwcmludCJcMDMzWzE7OTFtW1wwMzNbMTs5Nm3inJNcMDMzWzE7OTFtXSBcMDMzWzE7OTFtTm90IGFjdGl2YXRlIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTFtWyBcMDMzWzE7OTdtQmFjayBcMDMzWzE7OTFtXSIpCgkJbGFpbigpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTFtWyFdIEVycm9yIgoJCWtlbHVhcigpCgkKbWFzdWsoKQ=="))
